(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-poem-poem"],{3255:function(e,t,n){var o=n("d242");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("967d").default;a("8455b0aa",o,!0,{sourceMap:!1,shadowMode:!1})},4620:function(e,t,n){"use strict";var o=n("f0ff"),a=n.n(o);a.a},"51ad":function(e,t,n){"use strict";n.r(t);var o=n("9a0c"),a=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},"84be":function(e,t,n){"use strict";n.r(t);var o=n("b348"),a=n("daaa");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("9820");var i=n("828b"),s=Object(i["a"])(a["default"],o["b"],o["c"],!1,null,"3a05c372",null,!1,o["a"],void 0);t["default"]=s.exports},"8f08":function(e,t,n){"use strict";n.r(t);var o=n("d31a"),a=n("51ad");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("4620");var i=n("828b"),s=Object(i["a"])(a["default"],o["b"],o["c"],!1,null,"60133a98",null,!1,o["a"],void 0);t["default"]=s.exports},9820:function(e,t,n){"use strict";var o=n("3255"),a=n.n(o);a.a},"9a0c":function(e,t,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("39d8"));n("bf0f"),n("2797"),n("c223"),n("4626"),n("5ac7");var r=o(n("8cb3")),i=o(n("84be")),s=o(n("8cb3")),l=o(n("84be")),c=n("11ca"),d=c.cloudCall,u=n("2b90"),g={components:{skeleton:r.default,folderSelector:i.default},mixins:[u],data:function(){return{isLoading:!0,postList:[],currentPostIndex:0,touchStartX:0,touchEndX:0,touchStartY:0,touchEndY:0,hasMore:!0,page:0,backgroundImage:"",isTransitioning:!1,preloadedImages:{},hasFirstLoad_var:!1,currentPost:null,bgLayers:[{url:"",visible:!1},{url:"",visible:!1}],activeLayerIndex:0,swiperHeights:{},imageClampHeights:{},currentAuthorSignature:"",currentAuthorOpenid:"",isFetchingSignature:!1,selected:0,url:"",visible:!1}},onLoad:function(){console.log("Poem é¡µé¢ onLoad");var e=getApp();e.globalData.preloadedPoemData&&e.globalData.preloadedPoemData.length>0?(console.log("Poem: ä½¿ç”¨é¢„åŠ è½½æ•°æ®"),this.setData({postList:e.globalData.preloadedPoemData,isLoading:!1,page:1,hasFirstLoad_var:!0}),this.updatePostDisplay(0),e.globalData.preloadedPoemData=null,this._hasFirstLoad=!0):(console.log("Poem: æ— é¢„åŠ è½½æ•°æ®ï¼Œå¼€å§‹è¯·æ±‚"),this.getPostList())},onShow:function(){var e=n("d87a"),t=e.updateTabBarStatus;t(this,1);try{var o=uni.getStorageSync("shouldRefreshPoem");if(o)return console.log("ã€poemã€‘æ£€æµ‹åˆ°å‘å¸ƒæ ‡è®°ï¼Œåˆ·æ–°æ•°æ®"),uni.removeStorageSync("shouldRefreshPoem"),void this.refreshPoemData()}catch(a){console.log("CatchClause",a),console.log("CatchClause",a),console.error("æ£€æŸ¥åˆ·æ–°æ ‡è®°å¤±è´¥:",a)}this._hasFirstLoad?console.log("ã€poemã€‘å†æ¬¡è¿›å…¥ï¼Œä¿æŒä¹‹å‰å†…å®¹"):(console.log("ã€poemã€‘é¦–æ¬¡è¿›å…¥ï¼Œåˆ·æ–°æ•°æ®"),this._hasFirstLoad=!0,0===this.postList.length&&this.refreshPoemData())},methods:{callCloudFunction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d(e,t,Object.assign({pageTag:"poem",context:this},n))},refreshPoemData:function(){console.log("ã€poemã€‘å¼€å§‹åˆ·æ–°è¯—æ­Œæ•°æ®"),this.setData({postList:[],currentPostIndex:0,page:0,hasMore:!0,isLoading:!1,bgLayers:[{url:"",visible:!1},{url:"",visible:!1}],activeLayerIndex:0}),this.getPostList()},fetchAuthorSignature:function(e){var t=this;if(!e)return console.log("ã€poemã€‘ä½œè€…openidä¸ºç©ºï¼Œä¸è·å–ç­¾å"),void this.setData({currentAuthorSignature:""});if(this.currentAuthorOpenid===e&&this.isFetchingSignature)console.log("ã€poemã€‘æ­£åœ¨è·å–è¯¥ä½œè€…ç­¾åï¼Œè·³è¿‡é‡å¤è°ƒç”¨");else if(this.currentAuthorOpenid===e&&this.currentAuthorSignature)console.log("ã€poemã€‘è¯¥ä½œè€…ç­¾åå·²å­˜åœ¨ï¼Œè·³è¿‡é‡å¤è·å–");else{var n;if(console.log("ã€poemã€‘è·å–ä½œè€…ç­¾åä¿¡æ¯ï¼Œopenid:",e),this.setData({isFetchingSignature:!0,currentAuthorOpenid:e}),this.$tcb&&this.$tcb.database)n=this.$tcb.database(),console.log("ã€poemã€‘ä½¿ç”¨TCBæ•°æ®åº“å®ä¾‹");else{if("undefined"===typeof wx||!wx.cloud||!wx.cloud.database)return console.error("ã€poemã€‘æ— æ³•è·å–æ•°æ®åº“å®ä¾‹ï¼Œ$tcbå’Œwx.cloudéƒ½ä¸å¯ç”¨"),void this.setData({currentAuthorSignature:"",isFetchingSignature:!1});n=wx.cloud.database(),console.log("ã€poemã€‘ä½¿ç”¨å¾®ä¿¡äº‘æ•°æ®åº“å®ä¾‹")}n.collection("users").where({_openid:e}).get().then((function(e){if(console.log("ã€poemã€‘ç›´æ¥æŸ¥è¯¢æ•°æ®åº“ç»“æœ:",e),e.data&&e.data.length>0){var n=e.data[0];console.log("ã€poemã€‘æ•°æ®åº“ä¸­çš„ç”¨æˆ·ä¿¡æ¯:",n),n.signatureUrl?(console.log("ã€poemã€‘æ•°æ®åº“ä¸­æ‰¾åˆ°ç­¾å:",n.signatureUrl),t.setData({currentAuthorSignature:n.signatureUrl,isFetchingSignature:!1})):(console.log("ã€poemã€‘æ•°æ®åº“ä¸­ç”¨æˆ·æ²¡æœ‰è®¾ç½®ç­¾å"),t.setData({currentAuthorSignature:"",isFetchingSignature:!1}))}else console.log("ã€poemã€‘æ•°æ®åº“ä¸­æœªæ‰¾åˆ°ç”¨æˆ·"),t.setData({currentAuthorSignature:"",isFetchingSignature:!1})})).catch((function(e){console.error("ã€poemã€‘ç›´æ¥æŸ¥è¯¢æ•°æ®åº“å¤±è´¥:",e),t.setData({currentAuthorSignature:"",isFetchingSignature:!1})})),this.callCloudFunction("getUserProfile",{userId:e}).then((function(e){if(console.log("ã€poemã€‘getUserProfileè¿”å›ç»“æœ:",e),e.result&&e.result.success&&e.result.userInfo){var n=e.result.userInfo;console.log("ã€poemã€‘ä½œè€…ä¿¡æ¯:",n),n.signatureUrl?(console.log("ã€poemã€‘è·å–åˆ°ä½œè€…ç­¾å:",n.signatureUrl),t.setData({currentAuthorSignature:n.signatureUrl,isFetchingSignature:!1}),console.log("ã€poemã€‘ä½œè€…ç­¾åå·²è®¾ç½®åˆ°dataä¸­")):(console.log("ã€poemã€‘ä½œè€…æœªè®¾ç½®ç­¾åï¼ŒsignatureUrlä¸ºç©º"),t.setData({currentAuthorSignature:"",isFetchingSignature:!1}))}else console.log("ã€poemã€‘è·å–ä½œè€…ä¿¡æ¯å¤±è´¥æˆ–æ•°æ®æ ¼å¼é”™è¯¯"),t.setData({currentAuthorSignature:"",isFetchingSignature:!1})})).catch((function(e){console.error("ã€poemã€‘è·å–ä½œè€…ç­¾åå¤±è´¥:",e),t.setData({currentAuthorSignature:"",isFetchingSignature:!1})}))}},onSignatureLoad:function(e){console.log("ã€poemã€‘ç­¾åå›¾ç‰‡åŠ è½½æˆåŠŸ:",e)},onSignatureError:function(e){console.error("ã€poemã€‘ç­¾åå›¾ç‰‡åŠ è½½å¤±è´¥:",e)},getPostList:function(e){var t=this;if(console.log("ğŸ” [Poem] getPostList å¼€å§‹è°ƒç”¨"),console.log("ğŸ” [Poem] å½“å‰çŠ¶æ€ - isLoading:",this.isLoading,"page:",this.page),this.isLoading)console.log("ğŸ” [Poem] æ­£åœ¨åŠ è½½ä¸­ï¼Œè·³è¿‡é‡å¤è°ƒç”¨");else{this.setData({isLoading:!0});var n=5*this.page;console.log("ğŸ” [Poem] è¯·æ±‚å‚æ•° - skip:",n,"page:",this.page,"PAGE_SIZE:",5),console.log("ğŸ” [Poem] å¼€å§‹è°ƒç”¨äº‘å‡½æ•° getPostList"),console.log("ğŸ” [Poem] äº‘å‡½æ•°å‚æ•°:",{skip:n,limit:5,isPoem:!0,isOriginal:!0}),this.callCloudFunction("getPostList",{skip:n,limit:5,isPoem:!0,isOriginal:!0}).then((function(e){if(console.log("âœ… [Poem] äº‘å‡½æ•°è°ƒç”¨æˆåŠŸï¼ŒåŸå§‹å“åº”:",e),e.result&&e.result.success){var n=e.result.posts||[];console.log("âœ… [Poem] è·å–åˆ°è·¯è¯—æ­Œæ•°é‡:",n.length),console.log("âœ… [Poem] å®Œæ•´å“åº”æ•°æ®:",e.result),n.length>0?(console.log("ğŸ” [Poem] è¯—æ­Œæ•°æ®è¯¦æƒ…:"),n.forEach((function(e,t){console.log("ğŸ“ [Poem] è¯—æ­Œ".concat(t+1,":"),{_id:e._id,title:e.title,isPoem:e.isPoem,isOriginal:e.isOriginal,content:e.content?e.content.substring(0,50)+"...":"æ— å†…å®¹",authorName:e.authorName,createTime:e.createTime})}))):console.log("âš ï¸ [Poem] æ²¡æœ‰è·å–åˆ°ä»»ä½•è¯—æ­Œæ•°æ®"),n.forEach((function(e){e.imageUrls&&0!==e.imageUrls.length||(e.imageUrls=e.imageUrl?[e.imageUrl]:[])}));var o=0===t.page?n:t.postList.concat(n);console.log("âœ… [Poem] æ›´æ–°åçš„postListé•¿åº¦:",o.length),t.setData({postList:o,page:t.page+1,hasMore:5===n.length}),1===t.page&&o.length>0?(console.log("ğŸ¯ [Poem] é¦–æ¬¡åŠ è½½ï¼Œæ˜¾ç¤ºç¬¬ä¸€ä¸ªè¯—æ­Œ"),console.log("ğŸ¯ [Poem] ç¬¬ä¸€ä¸ªè¯—æ­Œè¯¦æƒ…:",{title:o[0].title,imageUrls:o[0].imageUrls,poemBgImage:o[0].poemBgImage,hasBgImage:!!o[0].poemBgImage}),t.updatePostDisplay(0),o.length>1&&(console.log("ğŸ” [Poem] é¢„åŠ è½½ç¬¬2å¼ å›¾ç‰‡"),t.loadImageForIndex(1)),o.length>2&&(console.log("ğŸ” [Poem] é¢„åŠ è½½ç¬¬3å¼ å›¾ç‰‡"),t.loadImageForIndex(2))):console.log("âš ï¸ [Poem] æœªè·å–åˆ°è¯—æ­Œå¸–å­æ•°æ®æˆ–éé¦–æ¬¡åŠ è½½")}else console.error("âŒ [Poem] äº‘å‡½æ•°è¿”å›å¤±è´¥:",e.result),uni.showToast({title:"åŠ è½½å¤±è´¥",icon:"none"})})).catch((function(e){console.error("âŒ [Poem] äº‘å‡½æ•°è°ƒç”¨å¤±è´¥:",e),console.error("âŒ [Poem] é”™è¯¯è¯¦æƒ…:",{message:e.message,stack:e.stack,code:e.code}),uni.showToast({title:"ç½‘ç»œé”™è¯¯",icon:"none"})})).finally((function(){console.log("ğŸ” [Poem] äº‘å‡½æ•°è°ƒç”¨å®Œæˆï¼Œè®¾ç½®loadingä¸ºfalse"),t.setData({isLoading:!1,hasFirstLoad_var:!0}),"function"===typeof e&&e()}))}},touchStart:function(e){this.setData({touchStartX:e.touches[0].clientX,touchStartY:e.touches[0].clientY})},touchEnd:function(e){var t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,o=this.touchStartX-t,a=this.touchStartY-n,r=Math.sqrt(o*o+a*a),i=Math.abs(180*Math.atan2(Math.abs(a),Math.abs(o))/Math.PI);r>80&&Math.abs(o)>50&&i<45&&(o>0?this.nextPost():this.prevPost())},nextPost:function(){var e=this;this.currentPostIndex<this.postList.length-1?(this.setData({isTransitioning:!0}),this.updatePostDisplay(this.currentPostIndex+1),setTimeout((function(){e.setData({isTransitioning:!1})}),500)):this.hasMore&&!this.isLoading&&this.loadMorePosts((function(){e.postList.length>e.currentPostIndex+1&&e.updatePostDisplay(e.currentPostIndex+1)}))},prevPost:function(){var e=this;this.currentPostIndex>0&&(this.setData({isTransitioning:!0}),this.updatePostDisplay(this.currentPostIndex-1),setTimeout((function(){e.setData({isTransitioning:!1})}),500))},onSinglePostTap:function(e){var t=e.currentTarget.dataset.postid;uni.navigateTo({url:"/pages/post-detail/post-detail?id=".concat(t)})},onImageError:function(e){console.error("å›¾ç‰‡åŠ è½½å¤±è´¥",e.detail)},loadMorePosts:function(e){var t=this;if(!this.isLoading){var n=5*this.page;console.log("å¼€å§‹åŠ è½½æ›´å¤šè·¯è¯—æ­Œï¼Œskip:",n,"page:",this.page),this.callCloudFunction("getPostList",{skip:n,limit:5,isPoem:!0,isOriginal:!0}).then((function(e){if(console.log("åŠ è½½æ›´å¤šè·¯è¯—æ­Œç»“æœ:",e),e.result&&e.result.success){var n=e.result.posts||[];console.log("è·å–åˆ°æ›´å¤šè·¯è¯—æ­Œæ•°é‡:",n.length),n.forEach((function(e){e.imageUrls&&0!==e.imageUrls.length||(e.imageUrls=e.imageUrl?[e.imageUrl]:[])}));var o=t.postList.concat(n);t.setData({postList:o,page:t.page+1,hasMore:5===n.length});var a=t.postList.length-n.length;n.forEach((function(e,n){t.loadImageForIndex(a+n)}))}})).catch((function(e){console.error("åŠ è½½æ›´å¤šè·¯è¯—æ­Œå¤±è´¥:",e)})).finally((function(){"function"===typeof e&&e()}))}},preloadNextBackgroundImage:function(e){var t=this,n=e+1;n>=this.postList.length?this.hasMore&&!this.isLoading&&this.loadMorePosts((function(){n<t.postList.length&&t.loadImageForIndex(n)})):(console.log("å¼€å§‹é¢„åŠ è½½ç¬¬".concat(n+1,"å¼ å›¾ç‰‡")),this.loadImageForIndex(n))},resetBackgroundLayers:function(){this.setData({"bgLayers[0].url":"","bgLayers[0].visible":!1,"bgLayers[1].url":"","bgLayers[1].visible":!1,activeLayerIndex:0})},updatePostDisplay:function(e){var t=this;if(!(e<0||e>=this.postList.length)){var n=this.postList[e];if(n){this.setData({currentPost:n,currentPostIndex:e}),this.fetchAuthorSignature(n._openid);var o=n.poemBgImage||n.imageUrls&&n.imageUrls[0]||"";if(!o)return this.resetBackgroundLayers(),void this.preloadNextBackgroundImage(e);var r=this.preloadedImages[o];if(!r){var i=getApp();i.globalData.preloadedImages&&i.globalData.preloadedImages[o]?(r=i.globalData.preloadedImages[o],this.setData((0,a.default)({},"preloadedImages.".concat(o),r))):r=o}var s=""===this.bgLayers[0].url&&""===this.bgLayers[1].url;s?(console.log("é¦–æ¬¡æ˜¾ç¤ºèƒŒæ™¯å›¾ï¼Œç›´æ¥è®¾ç½®ç¬¬ä¸€ä¸ªå›¾å±‚"),this.setData({"bgLayers[0].url":r,"bgLayers[0].visible":!0,"bgLayers[1].visible":!1,activeLayerIndex:0}),console.log("é¦–æ¬¡æ˜¾ç¤ºå®Œæˆï¼Œç«‹å³é¢„åŠ è½½ç¬¬äºŒå¼ å›¾ç‰‡"),this.preloadNextBackgroundImage(e)):(setTimeout((function(){t.switchBackgroundImage(r)}),100),this.preloadNextBackgroundImage(e))}}},switchBackgroundImage:function(e){var t=this;if(e){var n=this.preloadedImages[e],o=n||e;console.log("åˆ‡æ¢èƒŒæ™¯å›¾:",{originalUrl:e,preloadedUrl:n,finalUrl:o,hasPreloaded:!!n});var r=this.activeLayerIndex,i=(r+1)%2;this.setData((0,a.default)({},"bgLayers[".concat(i,"].url"),o)),setTimeout((function(){var e;t.setData((e={},(0,a.default)(e,"bgLayers[".concat(r,"].visible"),!1),(0,a.default)(e,"bgLayers[".concat(i,"].visible"),!0),(0,a.default)(e,"activeLayerIndex",i),e))}),n?50:150)}else this.resetBackgroundLayers()},onBackgroundImageLoad:function(e){var t=e.currentTarget.dataset.layerIndex;console.log("å›¾å±‚".concat(t,"å›¾ç‰‡åŠ è½½å®Œæˆ"))},loadImageForIndex:function(e,t){var n=this,o=this.postList[e];if(o){var r=o.poemBgImage||o.imageUrls&&o.imageUrls[0]||"";if(r){var i=getApp();if(i.globalData.preloadedImages&&i.globalData.preloadedImages[r])return console.log("ç¬¬".concat(e+1,"å¼ å›¾ç‰‡ï¼šä½¿ç”¨å…¨å±€é¢„åŠ è½½ç¼“å­˜")),this.setData((0,a.default)({},"preloadedImages.".concat(r),i.globalData.preloadedImages[r])),void("function"===typeof t&&t(i.globalData.preloadedImages[r]));if(this.preloadedImages[r])console.log("ç¬¬".concat(e+1,"å¼ å›¾ç‰‡ï¼šå·²å­˜åœ¨æœ¬åœ°ç¼“å­˜"));else{console.log("ç¬¬".concat(e+1,"å¼ å›¾ç‰‡ï¼šå¼€å§‹ä¸‹è½½é¢„åŠ è½½"));var s="undefined"!==typeof window;if(s&&(r.includes("tcb.qcloud.la")||r.includes("cloudbase")))return console.log("ğŸ” [H5] ç¬¬".concat(e+1,"å¼ å›¾ç‰‡æ£€æµ‹åˆ°è…¾è®¯äº‘å­˜å‚¨URLï¼Œç›´æ¥ä½¿ç”¨:"),r),this.setData((0,a.default)({},"preloadedImages.".concat(r),r)),void("function"===typeof t&&t(r));uni.downloadFile({url:r,success:function(o){200===o.statusCode?(console.log("ç¬¬".concat(e+1,"å¼ å›¾ç‰‡ï¼šé¢„åŠ è½½æˆåŠŸ")),n.setData((0,a.default)({},"preloadedImages.".concat(r),o.tempFilePath)),"function"===typeof t&&t(o.tempFilePath)):console.error("ç¬¬".concat(e+1,"å¼ å›¾ç‰‡ï¼šä¸‹è½½å¤±è´¥ï¼ŒçŠ¶æ€ç :"),o.statusCode)},fail:function(o){console.error("ç¬¬".concat(e+1,"å¼ å›¾ç‰‡ï¼šé¢„åŠ è½½å¤±è´¥:"),o);var i="undefined"!==typeof window;i&&(console.log("ğŸ” [H5] ç¬¬".concat(e+1,"å¼ å›¾ç‰‡é¢„åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨åŸURL:"),r),n.setData((0,a.default)({},"preloadedImages.".concat(r),r)),"function"===typeof t&&t(r))}})}}else console.log("ç¬¬".concat(e+1,"å¼ å›¾ç‰‡ï¼šæ²¡æœ‰å›¾ç‰‡URL"))}else console.log("ç¬¬".concat(e+1,"å¼ å›¾ç‰‡ï¼šå¸–å­æ•°æ®ä¸å­˜åœ¨"))}}};t.default=g,t.default.components=Object.assign({skeleton:s.default,"folder-selector":l.default},t.default.components||{})},"9d3a":function(e,t,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("bf0f"),n("0c26");var a=o(n("39d8")),r=n("11ca"),i=r.cloudCall,s={data:function(){return{folders:[],isLoading:!0,selectedFolderId:"",showCreateModal:!1,newFolderName:"",showClone:!1}},props:{show:{type:Boolean,default:!1},postId:{type:String,default:""}},watch:(0,a.default)({show:function(e){e&&this.loadFolders()}},"show",{handler:function(e,t){this.showClone=e},immediate:!0}),methods:{callCloudFunction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(e,t,Object.assign({pageTag:"folder-selector",context:this,requireAuth:!0},n))},loadFolders:function(){var e=this;console.log("å¼€å§‹åŠ è½½æ”¶è—å¤¹åˆ—è¡¨..."),this.setData({isLoading:!0});var t=this.$requireOpenid&&this.$requireOpenid();t?this.callCloudFunction("getMyProfileData",{action:"getFavoriteFolders",openid:t}).then((function(t){if(console.log("folder-selectorè·å–æ”¶è—å¤¹:",t),t.result&&t.result.success){var n=t.result.folders||[];console.log("è·å–åˆ°æ”¶è—å¤¹æ•°é‡:",n.length);var o=e.selectedFolderId;o&&!n.some((function(e){return e._id===o}))&&(console.log("æ¸…ç©ºå¤±æ•ˆçš„é€‰ä¸­çŠ¶æ€"),e.setData({selectedFolderId:""})),e.setData({folders:n,isLoading:!1})}else{var a;uni.showToast({title:(null===(a=t.result)||void 0===a?void 0:a.message)||"åŠ è½½å¤±è´¥",icon:"none"}),e.setData({isLoading:!1,folders:[],selectedFolderId:""})}})).catch((function(t){console.error("è·å–æ”¶è—å¤¹å¤±è´¥:",t),uni.showToast({title:"ç½‘ç»œé”™è¯¯",icon:"none"}),e.setData({isLoading:!1,folders:[],selectedFolderId:""})})):this.setData({isLoading:!1,folders:[],selectedFolderId:""})},selectFolder:function(e){var t=e.currentTarget.dataset.folderId;this.setData({selectedFolderId:t})},confirmFavorite:function(){var e=this,t=this.selectedFolderId,o=this.postId;if(console.log("ç¡®è®¤æ”¶è—ï¼ŒpostId:",o,"folderId:",t),t){if(!o)return console.error("postId ä¸ºç©ºï¼Œæ— æ³•æ”¶è—"),void uni.showToast({title:"å‚æ•°é”™è¯¯ï¼šå¸–å­IDä¸ºç©º",icon:"none"});var a=this.$requireOpenid&&this.$requireOpenid();a&&(uni.showLoading({title:"æ”¶è—ä¸­..."}),this.callCloudFunction("getMyProfileData",{action:"addToFavorite",postId:o,folderId:t,openid:a}).then((function(t){if(uni.hideLoading(),console.log("ç¡®è®¤æ”¶è—è¿”å›ç»“æœ:",t),t&&t.result)if(t.result.success){uni.showToast({title:"æ”¶è—æˆåŠŸ"}),console.log("æ”¶è—æˆåŠŸï¼Œå¼€å§‹å…³é—­å¼¹çª—"),e.setData({selectedFolderId:""}),setTimeout((function(){e.hideModal()}),1500),e.$emit("favoriteSuccess");try{var a=getApp(),r=a&&a.globalData&&a.globalData.openid,i=n("80fa"),s=i.emitFavoriteChanged;s({userId:r,postId:o,favored:!0})}catch(l){}}else console.error("æ”¶è—ä¸šåŠ¡å¤±è´¥:",t.result),uni.showToast({title:t.result.message||"æ”¶è—å¤±è´¥",icon:"none"});else console.error("æ”¶è—è¿”å›æ ¼å¼å¼‚å¸¸:",t),uni.showToast({title:"æ”¶è—å¤±è´¥ï¼šè¿”å›æ ¼å¼é”™è¯¯",icon:"none"})})).catch((function(e){uni.hideLoading(),console.error("æ”¶è—äº‘å‡½æ•°è°ƒç”¨å¤±è´¥:",e),uni.showToast({title:"ç½‘ç»œé”™è¯¯ï¼š"+(e.errMsg||"æœªçŸ¥é”™è¯¯"),icon:"none"})})))}else uni.showToast({title:"è¯·é€‰æ‹©æ”¶è—å¤¹",icon:"none"})},createFolder:function(){this.setData({showCreateModal:!0,newFolderName:""})},hideCreateModal:function(){this.setData({showCreateModal:!1,newFolderName:""})},onFolderNameInput:function(e){var t=e.detail.value;this.setData({newFolderName:t})},createNewFolder:function(){var e=this,t=this.newFolderName.trim();if(t){this.setData({newFolderName:t}),console.log("ç»„ä»¶å¼€å§‹åˆ›å»ºæ”¶è—å¤¹ï¼Œåç§°:",t);var n=this.$requireOpenid&&this.$requireOpenid();n&&(uni.showLoading({title:"åˆ›å»ºä¸­..."}),this.callCloudFunction("getMyProfileData",{action:"createFavoriteFolder",folderName:t,openid:n}).then((function(t){uni.hideLoading(),console.log("ç»„ä»¶åˆ›å»ºæ”¶è—å¤¹è¿”å›ç»“æœ:",t),t&&t.result?t.result.success?(uni.showToast({title:"åˆ›å»ºæˆåŠŸ",duration:2e3}),e.setData({showCreateModal:!1}),setTimeout((function(){e.loadFolders()}),300)):(console.error("ç»„ä»¶åˆ›å»ºæ”¶è—å¤¹ä¸šåŠ¡å¤±è´¥:",t.result),uni.showToast({title:t.result.message||"åˆ›å»ºå¤±è´¥",icon:"none",duration:3e3})):(console.error("ç»„ä»¶åˆ›å»ºæ”¶è—å¤¹è¿”å›æ ¼å¼å¼‚å¸¸:",t),uni.showToast({title:"åˆ›å»ºå¤±è´¥ï¼šè¿”å›æ ¼å¼é”™è¯¯",icon:"none",duration:3e3}))})).catch((function(e){uni.hideLoading(),console.error("ç»„ä»¶åˆ›å»ºæ”¶è—å¤¹äº‘å‡½æ•°è°ƒç”¨å¤±è´¥:",e),uni.showToast({title:"åˆ›å»ºå¤±è´¥: "+(e.errMsg||"ç½‘ç»œé”™è¯¯"),icon:"none",duration:3e3})})))}else uni.showToast({title:"è¯·è¾“å…¥æ”¶è—å¤¹åç§°",icon:"none"})},hideModal:function(){console.log("=== ç‚¹å‡»å…³é—­æŒ‰é’®ï¼Œå¼€å§‹éšè—å¼¹çª— ==="),console.log("å½“å‰çŠ¶æ€ï¼š",{show:this.show,showCreateModal:this.showCreateModal,selectedFolderId:this.selectedFolderId}),this.setData({selectedFolderId:"",showClone:!1,showCreateModal:!1,newFolderName:""}),console.log("=== å¼¹çª—å·²éšè—ï¼ŒçŠ¶æ€å·²é‡ç½® ==="),this.$emit("hide")},trueFun:function(){console.log("å ä½ï¼šå‡½æ•° true æœªå£°æ˜")}},created:function(){}};t.default=s},b348:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[e.showClone?n("v-uni-view",{staticClass:"modal-overlay"},[n("v-uni-view",{staticClass:"modal-content"},[n("v-uni-view",{staticClass:"modal-header"},[n("v-uni-view",{staticClass:"modal-title"},[e._v("é€‰æ‹©æ”¶è—å¤¹")]),n("v-uni-view",{staticClass:"close-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hideModal.apply(void 0,arguments)}}},[e._v("Ã—")])],1),n("v-uni-view",{staticClass:"modal-body"},[e.isLoading?n("v-uni-view",{staticClass:"loading-container"},[n("v-uni-view",{staticClass:"loading-text"},[e._v("åŠ è½½ä¸­...")])],1):e.folders.length>0?n("v-uni-view",{staticClass:"folders-list"},e._l(e.folders,(function(t,o){return n("v-uni-view",{key:o,class:"folder-item "+(e.selectedFolderId===t._id?"selected":""),attrs:{"data-folder-id":t._id},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectFolder.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"folder-icon"},[e._v("ğŸ“")]),n("v-uni-view",{staticClass:"folder-info"},[n("v-uni-view",{staticClass:"folder-name"},[e._v(e._s(t.name))]),n("v-uni-view",{staticClass:"folder-count"},[e._v(e._s(t.itemCount)+" ä¸ªæ”¶è—")])],1),e.selectedFolderId===t._id?n("v-uni-view",{staticClass:"selected-icon"},[e._v("âœ“")]):e._e()],1)})),1):n("v-uni-view",{staticClass:"empty-state"},[n("v-uni-view",{staticClass:"empty-icon"},[e._v("ğŸ“")]),n("v-uni-view",{staticClass:"empty-text"},[e._v("è¿˜æ²¡æœ‰æ”¶è—å¤¹")]),n("v-uni-view",{staticClass:"empty-subtext"},[e._v("å…ˆåˆ›å»ºä¸€ä¸ªæ”¶è—å¤¹å§")])],1)],1),n("v-uni-view",{staticClass:"modal-footer"},[n("v-uni-button",{staticClass:"modal-btn secondary-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.createFolder.apply(void 0,arguments)}}},[e._v("åˆ›å»ºæ”¶è—å¤¹")]),n("v-uni-button",{staticClass:"modal-btn primary-btn",attrs:{disabled:!e.selectedFolderId},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmFavorite.apply(void 0,arguments)}}},[e._v("ç¡®è®¤æ”¶è—")])],1)],1)],1):e._e(),e.showCreateModal?n("v-uni-view",{staticClass:"modal-overlay"},[n("v-uni-view",{staticClass:"modal-content create-modal"},[n("v-uni-view",{staticClass:"modal-header"},[n("v-uni-view",{staticClass:"modal-title"},[e._v("åˆ›å»ºæ”¶è—å¤¹")]),n("v-uni-view",{staticClass:"close-btn",on:{click:[function(t){arguments[0]=t=e.$handleEvent(t),e.hideCreateModal.apply(void 0,arguments)},function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.trueFun.apply(void 0,arguments)}]}},[e._v("Ã—")])],1),n("v-uni-view",{staticClass:"modal-body"},[n("v-uni-input",{staticClass:"folder-name-input",attrs:{placeholder:"è¯·è¾“å…¥æ”¶è—å¤¹åç§°",value:e.newFolderName,focus:!0},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.onFolderNameInput.apply(void 0,arguments)},click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.trueFun.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"modal-footer"},[n("v-uni-button",{staticClass:"modal-btn secondary-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hideCreateModal.apply(void 0,arguments)}}},[e._v("å–æ¶ˆ")]),n("v-uni-button",{staticClass:"modal-btn primary-btn",attrs:{disabled:!e.newFolderName},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.createNewFolder.apply(void 0,arguments)}}},[e._v("åˆ›å»º")])],1)],1)],1):e._e()],1)},a=[]},d242:function(e,t,n){var o=n("c86c");t=o(!1),t.push([e.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* components/folder-selector/folder-selector.wxss */.modal-overlay[data-v-3a05c372]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[data-v-3a05c372]{background:#fff;border-radius:%?16?%;margin:%?40?%;width:calc(100% - %?80?%);max-width:%?600?%;max-height:80vh;display:flex;flex-direction:column}.modal-header[data-v-3a05c372]{display:flex;align-items:center;justify-content:space-between;padding:%?30?% %?40?%;border-bottom:%?1?% solid #f0f0f0}.modal-title[data-v-3a05c372]{font-size:%?36?%;font-weight:500;color:#333}.close-btn[data-v-3a05c372]{font-size:%?48?%;color:#999;line-height:1;position:relative;z-index:1001}.modal-body[data-v-3a05c372]{flex:1;padding:%?20?% 0;max-height:60vh;overflow-y:auto}.loading-container[data-v-3a05c372]{display:flex;justify-content:center;align-items:center;height:%?200?%}.loading-text[data-v-3a05c372]{color:#999;font-size:%?28?%}.folders-list[data-v-3a05c372]{padding:0 %?40?%}.folder-item[data-v-3a05c372]{display:flex;align-items:center;padding:%?24?% 0;border-bottom:%?1?% solid #f8f8f8}.folder-item[data-v-3a05c372]:last-child{border-bottom:none}.folder-item.selected[data-v-3a05c372]{background:rgba(7,193,96,.1);border-radius:%?8?%;padding:%?24?% %?20?%;margin:0 %?-20?%}.folder-icon[data-v-3a05c372]{font-size:%?40?%;margin-right:%?20?%}.folder-info[data-v-3a05c372]{flex:1}.folder-name[data-v-3a05c372]{font-size:%?30?%;color:#333;font-weight:500;margin-bottom:%?4?%}.folder-count[data-v-3a05c372]{font-size:%?24?%;color:#999}.selected-icon[data-v-3a05c372]{font-size:%?32?%;color:#9ed7ee;font-weight:700}.empty-state[data-v-3a05c372]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:%?200?%;padding:%?40?%}.empty-icon[data-v-3a05c372]{font-size:%?60?%;margin-bottom:%?16?%;opacity:.5}.empty-text[data-v-3a05c372]{font-size:%?28?%;color:#666;margin-bottom:%?8?%}.empty-subtext[data-v-3a05c372]{font-size:%?24?%;color:#999}.modal-footer[data-v-3a05c372]{display:flex;gap:%?20?%;padding:%?30?% %?40?%;border-top:%?1?% solid #f0f0f0}.modal-btn[data-v-3a05c372]{flex:1;height:%?80?%;border-radius:%?8?%;font-size:%?28?%;border:none;display:flex;align-items:center;justify-content:center;position:relative;z-index:1001}.secondary-btn[data-v-3a05c372]{background:#f5f5f5;color:#666}.primary-btn[data-v-3a05c372]{background:#9ed7ee;color:#fff}.primary-btn[data-v-3a05c372]:disabled{background:#ccc;color:#999}\r\n/* åˆ›å»ºæ”¶è—å¤¹å¼¹çª—æ ·å¼ */.create-modal .modal-body[data-v-3a05c372]{padding:%?40?%}.folder-name-input[data-v-3a05c372]{width:100%;height:%?80?%;padding:0 %?20?%;border:%?2?% solid #e0e0e0;border-radius:%?8?%;font-size:%?30?%;box-sizing:border-box}.folder-name-input[data-v-3a05c372]:focus{border-color:#9ed7ee}",""]),e.exports=t},d31a:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var o={skeleton:n("8cb3").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"background-wrapper"},e._l(e.bgLayers,(function(t,o){return n("v-uni-image",{key:o,class:"bg-image "+(t.visible?"visible":""),attrs:{src:t.url,mode:"aspectFill","data-layer-index":o},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.onBackgroundImageLoad.apply(void 0,arguments)}}})})),1),n("v-uni-view",{staticClass:"blur-background-wrapper"},e._l(e.bgLayers,(function(t,o){return n("v-uni-image",{key:o,class:"bg-image blur-image "+(t.visible?"visible":""),attrs:{src:t.url,mode:"aspectFill","data-layer-index":o},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.onBackgroundImageLoad.apply(void 0,arguments)}}})})),1),e.isLoading&&0===e.postList.length?n("v-uni-view",{staticClass:"skeleton-container"},[n("skeleton"),n("v-uni-view",{staticClass:"loading-text"},[e._v("æ­£åœ¨åŠ è½½è¯—æ­Œ...")])],1):e._e(),e.postList.length>0?n("v-uni-view",{staticClass:"poem-mode-container",on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.touchStart.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.touchEnd.apply(void 0,arguments)}}},[n("v-uni-view",{class:"single-post-content "+(e.isTransitioning?"is-transitioning":""),attrs:{"data-postid":e.currentPost._id},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.onSinglePostTap.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"single-author-info"},[e.currentPost.authorAvatar?n("v-uni-image",{staticClass:"single-author-avatar",attrs:{src:e.currentPost.authorAvatar,mode:"aspectFill"}}):e._e(),n("v-uni-text",{staticClass:"single-author-name"},[e._v(e._s(e.currentPost.authorName))])],1),e.currentPost.title?n("v-uni-view",{staticClass:"single-post-title"},[e._v(e._s(e.currentPost.title))]):e._e(),e.currentPost.isPoem?n("v-uni-view",{staticClass:"single-poem-author"},[e._v(e._s(e.currentPost.author||e.currentPost.authorName))]):e._e(),e.currentPost.content?n("v-uni-view",{staticClass:"single-post-content-text",staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.currentPost.content))]):e._e(),e.currentAuthorSignature?n("v-uni-view",{staticClass:"user-signature"},[n("v-uni-image",{staticClass:"signature-image",attrs:{src:e.currentAuthorSignature,mode:"aspectFit"},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.onSignatureError.apply(void 0,arguments)},load:function(t){arguments[0]=t=e.$handleEvent(t),e.onSignatureLoad.apply(void 0,arguments)}}})],1):e._e()],1),0!==e.postList.length||e.isLoading?e._e():n("v-uni-view",{staticClass:"empty-state"},[n("v-uni-view",{staticClass:"empty-icon"},[e._v("ğŸ›¤ï¸")]),n("v-uni-view",{staticClass:"empty-text"},[e._v("è¿˜æ²¡æœ‰è·¯è¯—å“¦ï½")]),n("v-uni-view",{staticClass:"empty-subtext"},[e._v("å¿«å»å¹¿åœºå‘ç°åŸåˆ›å¥½è¯—å§ï¼")])],1)],1):e._e()],1)],1)},r=[]},daaa:function(e,t,n){"use strict";n.r(t);var o=n("9d3a"),a=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},df7b7:function(e,t,n){var o=n("c86c");t=o(!1),t.push([e.i,"uni-page-body[data-v-60133a98]{background:transparent;padding:0;opacity:0;-webkit-animation:fadeIn-data-v-60133a98 .8s ease-in-out forwards;animation:fadeIn-data-v-60133a98 .8s ease-in-out forwards}body.?%PAGE?%[data-v-60133a98]{background:transparent}@-webkit-keyframes fadeIn-data-v-60133a98{from{opacity:0}to{opacity:1}}@keyframes fadeIn-data-v-60133a98{from{opacity:0}to{opacity:1}}\r\n\r\n/* poem.wxss - åŸåˆ›è¯—æ­Œé¡µé¢ï¼ˆè·¯ï¼‰ */.container[data-v-60133a98]{\r\n    /* ç§»é™¤ background-image, background-size ç­‰éƒ½åˆ æ‰ */position:relative;overflow:hidden;min-height:100vh}\r\n\r\n/* è¯»è¯—æ¨¡å¼å®¹å™¨ */.poem-mode-container[data-v-60133a98]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1; /* ç¡®ä¿åœ¨æ¨¡ç³Šå±‚ä¹‹ä¸Š */overflow:visible /* å…è®¸ç­¾åæ˜¾ç¤ºåœ¨å®¹å™¨å¤–éƒ¨ */}\r\n\r\n/* æ–°å¢ï¼šèƒŒæ™¯å›¾çš„å®¹å™¨å’Œæ ·å¼ */.background-wrapper[data-v-60133a98],\r\n.blur-background-wrapper[data-v-60133a98]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-2 /* ç¡®ä¿åœ¨æœ€åº•å±‚ */}.bg-image[data-v-60133a98]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0; /* é»˜è®¤éšè— */transition:opacity .5s ease-in-out /* å…³é”®ï¼šå¹³æ»‘çš„é€æ˜åº¦è¿‡æ¸¡ */}.bg-image.visible[data-v-60133a98]{opacity:1 /* æ˜¾ç¤º */}\r\n\r\n/* æ–°å¢ï¼šæ¨¡ç³ŠèƒŒæ™¯çš„å®¹å™¨å’Œæ ·å¼ */.blur-background-wrapper[data-v-60133a98]{z-index:-1;-webkit-filter:blur(30px) brightness(.7);filter:blur(30px) brightness(.7);-webkit-transform:scale(1.1);transform:scale(1.1)}\r\n\r\n/* æ”¶è—æŒ‰é’® */.favorite-btn[data-v-60133a98]{position:absolute;top:%?60?%;right:%?60?%;width:%?80?%;height:%?80?%;background:hsla(0,0%,100%,.9);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.15);z-index:999;transition:all .3s ease}.favorite-btn[data-v-60133a98]:active{-webkit-transform:scale(.95);transform:scale(.95)}.favorite-icon[data-v-60133a98]{font-size:%?36?%}\r\n\r\n/* å•å¸–å†…å®¹åŒºåŸŸ */.single-post-content[data-v-60133a98]{width:calc(100% - %?40?%);height:calc(100% - %?60?%); /* å‡å°‘ä¸Šä¸‹è¾¹è·ï¼Œå¢åŠ å†…å®¹åŒºåŸŸé«˜åº¦ */display:flex;flex-direction:column;padding:%?60?% %?20?% %?80?% %?20?%; /* å¢åŠ åº•éƒ¨å†…è¾¹è·ï¼Œè®©æœ€åä¸€è¡Œä¸æ˜¾ç¤º */box-sizing:border-box;background:hsla(0,0%,100%,.8); /* å¢åŠ é€æ˜åº¦ï¼Œè®©èƒŒæ™¯å›¾æ›´æ˜æ˜¾ */margin:%?30?% %?20?%; /* å‡å°‘å¤–è¾¹è·ï¼Œå¢åŠ å†…å®¹åŒºåŸŸ */border-radius:%?24?%;box-shadow:0 %?8?% %?32?% rgba(0,0,0,.1);position:relative; /* ä¸ºåŸåˆ›æ ‡è¯†å®šä½ */transition:-webkit-transform .3s ease-in-out;transition:transform .3s ease-in-out;transition:transform .3s ease-in-out,-webkit-transform .3s ease-in-out; /* å¡ç‰‡åˆ‡æ¢åŠ¨ç”» */-webkit-transform:translateX(0);transform:translateX(0) /* é»˜è®¤ä½ç½® */}\r\n\r\n/* åˆ‡æ¢åŠ¨ç”»çŠ¶æ€ */.single-post-content.is-transitioning[data-v-60133a98]{\r\n    /* å¯ä»¥å°è¯•åªæ”¹å˜é€æ˜åº¦ï¼Œè€Œä¸æ˜¯ä½ç§» */opacity:.95;-webkit-transform:scale(.99);transform:scale(.99)}\r\n\r\n/* ä½œè€…ä¿¡æ¯ */.single-author-info[data-v-60133a98]{display:flex;align-items:center;margin-bottom:%?15?%; /* å‡å°ä½œè€…ä¿¡æ¯ä¸æ ‡é¢˜çš„é—´è· */padding-bottom:%?10?%; /* å‡å°åº•éƒ¨å†…è¾¹è· */border-bottom:%?1?% solid hsla(0,0%,94.1%,.5) /* åŠé€æ˜ç™½è‰²åˆ†å‰²çº¿ */}.single-author-avatar[data-v-60133a98]{width:%?80?%;height:%?80?%;border-radius:50%;margin-right:%?20?%;background-color:#f5f5f5;border:%?4?% solid #fff;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.1)}.single-author-name[data-v-60133a98]{font-size:%?32?%;color:#000;font-weight:600;text-shadow:0 %?1?% %?2?% hsla(0,0%,100%,.8) /* æ·»åŠ æ–‡å­—é˜´å½± */}\r\n\r\n/* æ ‡é¢˜ */.single-post-title[data-v-60133a98]{font-size:%?36?%;font-weight:700;color:#000;margin-bottom:%?10?%; /* å‡å°æ ‡é¢˜ä¸å†…å®¹çš„é—´è· */line-height:1.4;text-align:center; /* æ ‡é¢˜å±…ä¸­æ˜¾ç¤º */text-shadow:0 %?1?% %?2?% hsla(0,0%,100%,.8) /* æ·»åŠ æ–‡å­—é˜´å½± */}\r\n\r\n/* è¯—æ­Œä½œè€…æ ·å¼ */.single-poem-author[data-v-60133a98]{font-size:%?32?%;color:#000;text-align:center;margin:%?5?% 0 %?15?% 0;text-shadow:0 %?1?% %?2?% hsla(0,0%,100%,.8);letter-spacing:%?2?%}\r\n\r\n/* å›¾ç‰‡å®¹å™¨ */.single-image-container[data-v-60133a98]{flex:1;display:flex;align-items:center;justify-content:center;margin:%?20?% 0;border-radius:%?16?%;overflow:hidden;background:#f8f9fa;width:100%;height:100%;max-height:50vh}.single-post-image[data-v-60133a98]{width:100%;height:100%;object-fit:contain;border-radius:%?16?%}\r\n\r\n/* å¤šå¼ å›¾ç‰‡è½®æ’­ */.single-image-swiper[data-v-60133a98]{width:100%;height:50vh;border-radius:%?16?%}\r\n\r\n/* å†…å®¹æ–‡å­— */.single-post-content-text[data-v-60133a98]{font-size:%?32?%;color:#000;line-height:1.8;margin-top:%?20?%;padding:%?20?% %?30?% %?120?% %?30?%; /* å¢åŠ åº•éƒ¨å†…è¾¹è·ï¼Œä¸ºç­¾åç•™å‡ºç©ºé—´ */background:transparent; /* å®Œå…¨é€æ˜èƒŒæ™¯ */border-radius:0; /* ç§»é™¤åœ†è§’ */max-height:62vh; /* ç¨å¾®å‡å°‘é«˜åº¦ï¼Œé…åˆåº•éƒ¨å†…è¾¹è· */overflow-y:auto;overflow-x:visible; /* ç¡®ä¿æ°´å¹³æ–¹å‘ä¸è¢«è£å‰ª */font-family:-apple-system-font,PingFang SC,Helvetica Neue,Arial,sans-serif;letter-spacing:%?1?%;text-shadow:0 %?1?% %?2?% hsla(0,0%,100%,.8); /* æ·»åŠ æ–‡å­—é˜´å½±å¢å¼ºå¯è¯»æ€§ */flex:1; /* è®©æ–‡å­—åŒºåŸŸå æ®å‰©ä½™ç©ºé—´ */position:relative /* ç¡®ä¿å®šä½ä¸Šä¸‹æ–‡æ­£ç¡® */}\r\n\r\n/* ç”¨æˆ·ç­¾åæ ·å¼ */.user-signature[data-v-60133a98]{position:absolute;bottom:%?140?%; /* ä»30rpxè°ƒæ•´åˆ°120rpxï¼Œé¿å…è¢«åº•éƒ¨å¯¼èˆªæ é®æŒ¡ */right:%?50?%;z-index:1001; /* æé«˜å±‚çº§ï¼Œç¡®ä¿ä¸è¢«å…¶ä»–å…ƒç´ è¦†ç›– */pointer-events:none /* é˜²æ­¢ç­¾åå½±å“ç‚¹å‡»äº‹ä»¶ */}.signature-image[data-v-60133a98]{width:%?120?%;height:%?60?%;opacity:.8; /* ç¨å¾®é€æ˜ï¼Œä¸æŠ¢å¤ºä¸»è¦å†…å®¹çš„æ³¨æ„åŠ› */-webkit-filter:drop-shadow(0 %?2?% %?4?% rgba(0,0,0,.1));filter:drop-shadow(0 %?2?% %?4?% rgba(0,0,0,.1)); /* æ·»åŠ è½»å¾®é˜´å½± */display:block; /* ç¡®ä¿å›¾ç‰‡æ­£ç¡®æ˜¾ç¤º */background:transparent /* ç¡®ä¿èƒŒæ™¯é€æ˜ */}\r\n\r\n/* éª¨æ¶å±å®¹å™¨ */.skeleton-container[data-v-60133a98]{position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.95);z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-text[data-v-60133a98]{margin-top:%?40?%;font-size:%?28?%;color:#666;text-align:center}\r\n\r\n/* ç©ºçŠ¶æ€ */.empty-state[data-v-60133a98]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:%?100?% %?40?%;text-align:center}.empty-icon[data-v-60133a98]{font-size:%?80?%;margin-bottom:%?20?%;opacity:.5}.empty-text[data-v-60133a98]{font-size:%?32?%;color:#666;margin-bottom:%?10?%}.empty-subtext[data-v-60133a98]{font-size:%?28?%;color:#999}\r\n\r\n/* æ‚¬æµ®å‘å¸ƒæŒ‰é’® */.add-button[data-v-60133a98]{position:fixed;bottom:%?120?%;right:%?30?%;width:%?100?%;height:%?100?%;background-color:#9ed7ee;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:%?48?%;box-shadow:0 %?4?% %?16?% rgba(7,193,96,.3);z-index:1000}",""]),e.exports=t},f0ff:function(e,t,n){var o=n("df7b7");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("967d").default;a("a3832a1e",o,!0,{sourceMap:!1,shadowMode:!1})}}]);