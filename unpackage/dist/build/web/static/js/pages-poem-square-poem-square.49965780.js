(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-poem-square-poem-square"],{"0b3f":function(n,r,t){"use strict";var e=t("3a7e"),a=t.n(e);a.a},"1e76":function(n,r,t){"use strict";t("6a54");var e=t("f5bd").default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e(t("39d8")),o=e(t("2634")),i=e(t("2fdc")),s=e(t("fcf3"));t("5c47"),t("8f71"),t("bf0f"),t("5ef2"),t("2797"),t("c223"),t("7a76"),t("c9b5");var c=e(t("724b")),l=e(t("71b6")),u=e(t("c4b7")),d=e(t("71b6")),p=t("38db"),f=p.cloudCall,g=t("9167"),v={onShow:function(){try{uni.hideTabBar({animation:!1})}catch(n){}try{this.$refs.customTabBar&&this.$refs.customTabBar.syncSelected&&this.$refs.customTabBar.syncSelected()}catch(n){}},components:{skeleton:l.default,topBar:u.default,AppTabBar:c.default},data:function(){return{postList:[],page:0,hasMore:!0,isLoading:!0,isLoadingMore:!1,lastUsedColorIndex:-1,backgroundColors:["#a4c4bd","#c9cfcf","#906161","#909388"],showPageIndicator:!1,votingInProgress:{},fetchingSignatures:{},safeAreaTop:0}},onLoad:function(){this.debugSafeArea(),this.getIndexData()},onPullDownRefresh:function(){console.log("ã€poem-squareã€‘ğŸ“± ä¸‹æ‹‰åˆ·æ–°ï¼Œé‡æ–°è·å–æ•°æ®"),this.getIndexData((function(){console.log("ã€poem-squareã€‘âœ… ä¸‹æ‹‰åˆ·æ–°å®Œæˆï¼Œåœæ­¢åˆ·æ–°åŠ¨ç”»"),uni.stopPullDownRefresh()}))},onPageScroll:function(n){var r=this;this._scrollTimer&&clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout((function(){if(r.hasMore&&!r.isLoadingMore&&!r.isLoading)try{var t=uni.getSystemInfoSync(),e=t.windowHeight;uni.createSelectorQuery().in(r).select("#post-list-container").boundingClientRect((function(t){if(t&&t.height){var a=t.height-n.scrollTop-e,o=1.5*e;a<o&&(r.showPageIndicator=!0,r.getPostList((function(){r.showPageIndicator=!1})))}})).exec()}catch(a){}}),100)},methods:{debugSafeArea:function(){try{var n=uni.getSystemInfoSync();if(console.log("ã€poem-squareã€‘ç³»ç»Ÿä¿¡æ¯:",{statusBarHeight:n.statusBarHeight,safeAreaInsets:n.safeAreaInsets,safeArea:n.safeArea,windowHeight:n.windowHeight,screenHeight:n.screenHeight,platform:n.platform}),n.statusBarHeight){var r=n.statusBarHeight;console.log("ã€poem-squareã€‘ä½¿ç”¨çŠ¶æ€æ é«˜åº¦ä½œä¸ºå®‰å…¨åŒºåŸŸ:",r),this.setData({safeAreaTop:r});try{"undefined"!==typeof document&&document.documentElement&&(document.documentElement.style.setProperty("--safe-area-inset-top",r+"px"),console.log("ã€poem-squareã€‘CSSå˜é‡è®¾ç½®æˆåŠŸ"))}catch(t){console.log("ã€poem-squareã€‘CSSå˜é‡è®¾ç½®å¤±è´¥ï¼Œä½¿ç”¨æ•°æ®ç»‘å®šæ–¹å¼:",t)}}}catch(e){console.error("ã€poem-squareã€‘å®‰å…¨åŒºåŸŸè°ƒè¯•å¤±è´¥:",e)}},callCloudFunction:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(n,r,Object.assign({pageTag:"poem-square",context:this,requireAuth:!1},t))},getIndexData:function(n){var r=this;console.log("ã€poem-squareã€‘å¼€å§‹è·å–æ•°æ®ï¼Œcallback:",(0,s.default)(n)),this.setData({isLoading:!0,postList:[],page:0,hasMore:!0}),this.getPostList((function(){console.log("ã€poem-squareã€‘getPostList å®Œæˆï¼Œè®¾ç½® isLoading: false"),r.setData({isLoading:!1}),"function"===typeof n&&(console.log("ã€poem-squareã€‘æ‰§è¡Œå›è°ƒå‡½æ•°"),n())}))},generateRandomBackgroundColor:function(){var n=this.backgroundColors,r=this.lastUsedColorIndex;if(-1===r){var t=Math.floor(Math.random()*n.length);return this.lastUsedColorIndex=t,n[t]}var e=n.filter((function(n,t){return t!==r})),a=e[Math.floor(Math.random()*e.length)];return this.lastUsedColorIndex=n.indexOf(a),a},getPostList:function(n){var r=this;return(0,i.default)((0,o.default)().mark((function t(){var e,a,i;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("ã€poem-squareã€‘getPostList å¼€å§‹ï¼ŒisLoadingMore:",r.isLoadingMore,"callback:",(0,s.default)(n)),!r.isLoadingMore){t.next=5;break}return console.log("ã€poem-squareã€‘æ­£åœ¨åŠ è½½æ›´å¤šï¼Œè·³è¿‡è¯·æ±‚"),"function"===typeof n&&n(),t.abrupt("return");case 5:return r.setData({isLoadingMore:!0}),t.prev=6,t.next=9,r.callCloudFunction("getPostList",{skip:10*r.page,limit:10,isPoem:!0,isOriginal:!0});case 9:e=t.sent,a=e&&e.result&&e.result.posts?e.result.posts:[],console.log("ã€poem-squareã€‘è·å–åˆ°å¸–å­æ•°é‡:",a.length),a.forEach((function(n){n.backgroundColor=n.backgroundColor||r.generateRandomBackgroundColor(),n.textColor=n.textColor||"#222",n.isExpanded=!1,n.authorSignature="",n.likeIcon=g&&g.getLikeIcon?g.getLikeIcon(n.votes||0,!!n.isVoted):""})),i=0===r.page?a:r.postList.concat(a),r.setData({postList:i,page:r.page+1,hasMore:10===a.length}),i.forEach((function(n,t){n._openid&&!n.authorSignature&&r.fetchAuthorSignature(n._openid,t)})),console.log("ã€poem-squareã€‘æ•°æ®å¤„ç†å®Œæˆ"),t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](6),console.error("ã€poem-squareã€‘è·å–å¸–å­åˆ—è¡¨å¤±è´¥:",t.t0),uni.showToast({title:"åŠ è½½å¤±è´¥",icon:"none"});case 23:return t.prev=23,console.log("ã€poem-squareã€‘è®¾ç½® isLoadingMore: falseï¼Œæ‰§è¡Œå›è°ƒ"),r.setData({isLoadingMore:!1}),"function"===typeof n&&(console.log("ã€poem-squareã€‘æ‰§è¡Œå›è°ƒå‡½æ•°"),n()),t.finish(23);case 28:case"end":return t.stop()}}),t,null,[[6,19,23,28]])})))()},togglePostExpansion:function(n){var r=n.currentTarget.dataset.index,t=this.postList[r],e=!t.isExpanded;this.setData((0,a.default)({},"postList[".concat(r,"].isExpanded"),e)),t._openid&&!t.authorSignature&&this.fetchAuthorSignature(t._openid,r)},onCommentClick:function(n){var r=n.currentTarget.dataset.postid;uni.navigateTo({url:"/pages/post-detail/post-detail?id=".concat(r)})},onLikeIconError:function(){},fetchAuthorSignature:function(n,r){var t=this;return(0,i.default)((0,o.default)().mark((function e(){var i,s;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n&&!t.fetchingSignatures[n]){e.next=2;break}return e.abrupt("return");case 2:return t.fetchingSignatures[n]=!0,e.prev=3,e.next=6,t.callCloudFunction("getUserProfile",{userId:n});case 6:i=e.sent,i.result&&i.result.success&&i.result.userInfo&&i.result.userInfo.signatureUrl?(s=i.result.userInfo.signatureUrl,console.log("ã€poem-squareã€‘è·å–åˆ°ä½œè€…ç­¾å:",s),t.setData((0,a.default)({},"postList[".concat(r,"].authorSignature"),s))):(console.log("ã€poem-squareã€‘ä½œè€…æœªè®¾ç½®ç­¾å"),t.setData((0,a.default)({},"postList[".concat(r,"].authorSignature"),""))),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error("ã€poem-squareã€‘è·å–ä½œè€…ç­¾åå¤±è´¥:",e.t0),t.setData((0,a.default)({},"postList[".concat(r,"].authorSignature"),""));case 14:return e.prev=14,delete t.fetchingSignatures[n],e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})))()},onSignatureLoad:function(n){console.log("ã€poem-squareã€‘ç­¾åå›¾ç‰‡åŠ è½½æˆåŠŸ:",n)},onSignatureError:function(n){console.error("ã€poem-squareã€‘ç­¾åå›¾ç‰‡åŠ è½½å¤±è´¥:",n)},onVote:function(n){var r=this;return(0,i.default)((0,o.default)().mark((function t(){var e,i,s,c,l,u;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=n.currentTarget.dataset.postid,i=n.currentTarget.dataset.index,!r.votingInProgress[e]){t.next=4;break}return t.abrupt("return");case 4:return r.setData((0,a.default)({},"votingInProgress.".concat(e),!0)),s=r.postList,c=s[i].votes||0,l=!!s[i].isVoted,s[i].votes=l?c-1:c+1,s[i].isVoted=!l,s[i].likeIcon=g.getLikeIcon(s[i].votes,s[i].isVoted),r.setData({postList:s}),t.prev=12,t.next=15,r.callCloudFunction("vote",{postId:e});case 15:if(u=t.sent,u&&u.result&&u.result.success){t.next=18;break}throw new Error("vote failed");case 18:"number"===typeof u.result.votes&&u.result.votes!==s[i].votes&&r.setData((0,a.default)({},"postList[".concat(i,"].votes"),u.result.votes)),t.next=28;break;case 21:t.prev=21,t.t0=t["catch"](12),s[i].votes=c,s[i].isVoted=l,s[i].likeIcon=g.getLikeIcon(c,l),r.setData({postList:s}),uni.showToast({title:"æ“ä½œå¤±è´¥",icon:"none"});case 28:return t.prev=28,r.setData((0,a.default)({},"votingInProgress.".concat(e),!1)),t.finish(28);case 31:case"end":return t.stop()}}),t,null,[[12,21,28,31]])})))()},touchStart:function(){},touchEnd:function(){}}};r.default=v,r.default.components=Object.assign({skeleton:d.default},r.default.components||{})},"3a7e":function(n,r,t){var e=t("68e2");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var a=t("967d").default;a("77e1fb34",e,!0,{sourceMap:!1,shadowMode:!1})},"68e2":function(n,r,t){var e=t("c86c");r=e(!1),r.push([n.i,'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* å®šä¹‰ Huiwen-mincho å­—ä½“ */@font-face{font-family:Huiwen-mincho;src:url(/static/fonts/Huiwen-mincho.otf) format("opentype");font-weight:400;font-style:normal}.white-bg[data-v-61868a88]{background:#fff;min-height:100vh;padding-top:env(safe-area-inset-top,var(--safe-area-inset-top,44px)) /* æ·»åŠ çŠ¶æ€æ å®‰å…¨åŒºåŸŸï¼Œå¤‡é€‰æ–¹æ¡ˆ */}.square-mode-container[data-v-61868a88]{padding:%?40?%;margin-bottom:%?200?%;padding-top:%?250?%; /* å¢åŠ ä¸Šè¾¹è·ï¼š100rpx(top-baré«˜åº¦) + 150rpx(é¢å¤–é—´è·) */display:flex;flex-direction:column;align-items:center /* å±…ä¸­å¡ç‰‡ */}.empty-state[data-v-61868a88]{text-align:center;padding:%?100?% 0;color:#999}.empty-icon[data-v-61868a88]{font-size:%?80?%;margin-bottom:%?20?%}.empty-text[data-v-61868a88]{font-size:%?32?%;margin-bottom:%?10?%;color:#666}.empty-subtext[data-v-61868a88]{font-size:%?24?%;color:#999}\r\n/* poem.css inspired card styles */.post-item-wrapper[data-v-61868a88]{width:calc(100% - %?80?%); /* å“åº”å¼å®½åº¦ï¼šå±å¹•å®½åº¦å‡å»å·¦å³å„40rpxè¾¹è· */margin-left:%?40?%; /* å·¦è¾¹è· */margin-right:%?40?%; /* å³è¾¹è· */border-radius:%?30?%; /* 15px * 2 */margin-bottom:%?40?%; /* å‡å°‘é—´è·ï¼Œè®©å¡ç‰‡æ›´ç´§å‡‘ */overflow:hidden;box-shadow:0 %?8?% %?8?% rgba(0,0,0,.25); /* 0px 4px 4px * 2 */transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease;border:none}\r\n/* èƒŒæ™¯é¢œè‰²ç°åœ¨é€šè¿‡å†…è”æ ·å¼åŠ¨æ€è®¾ç½®ï¼Œä¸å†ä½¿ç”¨å›ºå®šçš„CSSç±» */.post-item-wrapper[data-v-61868a88]:active{-webkit-transform:scale(.98);transform:scale(.98)}.post-content-navigator[data-v-61868a88]{display:block}.post-item[data-v-61868a88]{padding:%?30?% %?60?% %?30?% %?80?%;position:relative}\r\n/* è¿›ä¸€æ­¥å‡å°‘ä¸Šä¸‹paddingï¼Œæ–‡å­—å¾€å·¦ç§»åŠ¨ */\r\n/* Typography inspired by poem.css */.post-content[data-v-61868a88]{font-family:Huiwen-mincho,sans-serif;font-style:normal;font-weight:500;font-size:%?28?%; /* è°ƒå°å­—ä½“ï¼š14px * 2 */line-height:%?38?%; /* è°ƒæ•´è¡Œè·ï¼š19px * 2 */margin:%?30?% 0;width:100%;color:#fff}\r\n/* æ–‡å­—é¢œè‰²ç°åœ¨é€šè¿‡å†…è”æ ·å¼åŠ¨æ€è®¾ç½® */\r\n/* æŠ˜å æ€ï¼šå¤šç«¯å…¼å®¹çš„ä¸‰è¡Œè£åˆ‡ï¼ˆå‚è€ƒåŸå§‹å°ç¨‹åºå®ç°ï¼‰ */.post-content.collapsed[data-v-61868a88]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden;text-overflow:ellipsis}.post-content.expanded[data-v-61868a88]{display:block;overflow:visible}.comment-emoji[data-v-61868a88]{font-size:%?40?%}.vote-section[data-v-61868a88]{display:flex;justify-content:space-between;align-items:center;padding:%?25?% %?50?%}.actions-left[data-v-61868a88]{flex:1;display:flex;align-items:center;gap:%?20?%}.button-group[data-v-61868a88]{display:flex;align-items:center;gap:%?30?%}.comment-count[data-v-61868a88]{display:flex;align-items:center;gap:%?8?%;padding:%?10?% %?15?%}.vote-count[data-v-61868a88]{display:flex;align-items:center;gap:%?8?%;padding:%?10?% %?15?%;border-radius:%?20?%;background:hsla(0,0%,100%,.9);box-shadow:0 %?2?% %?8?% rgba(0,0,0,.1)}.comment-icon[data-v-61868a88]{width:%?80?%;height:%?80?%}.like-icon[data-v-61868a88]{width:%?60?%;height:%?60?%;margin-top:5px}\r\n/* ç”¨æˆ·ç­¾åæ ·å¼ */.user-signature[data-v-61868a88]{position:absolute;bottom:%?-25?%; /* ä»15rpxå¾€ä¸‹ç§»åŠ¨40rpx */right:%?60?%;z-index:10;pointer-events:none /* é˜²æ­¢ç­¾åå½±å“ç‚¹å‡»äº‹ä»¶ */}.signature-image[data-v-61868a88]{width:%?180?%;height:%?90?%;opacity:.8; /* ç¨å¾®é€æ˜ï¼Œä¸æŠ¢å¤ºä¸»è¦å†…å®¹çš„æ³¨æ„åŠ› */-webkit-filter:drop-shadow(0 %?2?% %?4?% rgba(0,0,0,.1));filter:drop-shadow(0 %?2?% %?4?% rgba(0,0,0,.1)); /* æ·»åŠ è½»å¾®é˜´å½± */display:block; /* ç¡®ä¿å›¾ç‰‡æ­£ç¡®æ˜¾ç¤º */background:transparent /* ç¡®ä¿èƒŒæ™¯é€æ˜ */}\r\n/* å°ç­¾åæ ·å¼ - æŠ˜å çŠ¶æ€ä¸‹æ˜¾ç¤º */.user-signature-small[data-v-61868a88]{position:absolute;bottom:%?30?%;right:%?60?%;z-index:10;pointer-events:none /* é˜²æ­¢ç­¾åå½±å“ç‚¹å‡»äº‹ä»¶ */}.signature-image-small[data-v-61868a88]{width:%?100?%;height:%?50?%;opacity:.6; /* æ›´é€æ˜ï¼Œä¸æŠ¢å¤ºä¸»è¦å†…å®¹çš„æ³¨æ„åŠ› */-webkit-filter:drop-shadow(0 %?1?% %?2?% rgba(0,0,0,.1));filter:drop-shadow(0 %?1?% %?2?% rgba(0,0,0,.1)); /* æ·»åŠ è½»å¾®é˜´å½± */display:block; /* ç¡®ä¿å›¾ç‰‡æ­£ç¡®æ˜¾ç¤º */background:transparent /* ç¡®ä¿èƒŒæ™¯é€æ˜ */}.loading-footer[data-v-61868a88]{text-align:center;color:#666;padding:%?30?% 0 %?120?%}.page-indicator[data-v-61868a88]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:rgba(0,0,0,.7);color:#fff;padding:%?20?% %?40?%;border-radius:%?40?%;z-index:1000;font-size:%?28?%}.page-indicator-text[data-v-61868a88]{text-align:center}',""]),n.exports=r},7148:function(n,r,t){"use strict";t.r(r);var e=t("1e76"),a=t.n(e);for(var o in e)["default"].indexOf(o)<0&&function(n){t.d(r,n,(function(){return e[n]}))}(o);r["default"]=a.a},afbe:function(n,r,t){"use strict";t.d(r,"b",(function(){return a})),t.d(r,"c",(function(){return o})),t.d(r,"a",(function(){return e}));var e={topBar:t("c4b7").default,skeleton:t("71b6").default},a=function(){var n=this,r=n.$createElement,t=n._self._c||r;return t("v-uni-view",{staticClass:"poem-square white-bg",on:{touchstart:function(r){arguments[0]=r=n.$handleEvent(r),n.touchStart.apply(void 0,arguments)},touchend:function(r){arguments[0]=r=n.$handleEvent(r),n.touchEnd.apply(void 0,arguments)}}},[t("top-bar"),n.isLoading?t("v-uni-view",[t("skeleton")],1):t("v-uni-view",{staticClass:"square-mode-container"},[0===n.postList.length?t("v-uni-view",{staticClass:"empty-state"},[t("v-uni-view",{staticClass:"empty-icon"},[n._v("ğŸ˜¶")]),t("v-uni-view",{staticClass:"empty-text"},[n._v("è¿™é‡Œè¿˜æ²¡æœ‰å†…å®¹")]),t("v-uni-view",{staticClass:"empty-subtext"},[n._v("å»å¹¿åœºå‘å¸ƒä¸€æ¡å§ï½")])],1):n._e(),t("v-uni-view",{attrs:{id:"post-list-container"}},n._l(n.postList,(function(r,e){return t("v-uni-view",{key:r._id||e,staticClass:"post-item-wrapper",style:{backgroundColor:r.backgroundColor}},[t("v-uni-view",{staticClass:"post-content-navigator",attrs:{"data-index":e},on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.togglePostExpansion.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"post-item"},[r.content?t("v-uni-view",{class:"post-content "+(r.isExpanded?"expanded":"collapsed"),style:{color:r.textColor,whiteSpace:"pre-wrap"}},[r.isExpanded?[n._v(n._s(r.content))]:[r.highlightLines&&r.highlightLines.length>0?n._l(r.highlightLines,(function(r,e){return t("v-uni-text",{key:"line-"+e,staticStyle:{"font-weight":"700",display:"block"}},[n._v(n._s(r))])})):[n._v(n._s(r.content))]]],2):n._e(),r.isExpanded&&r.authorSignature?t("v-uni-view",{staticClass:"user-signature"},[t("v-uni-image",{staticClass:"signature-image",attrs:{src:r.authorSignature,mode:"aspectFit"},on:{error:function(r){arguments[0]=r=n.$handleEvent(r),n.onSignatureError.apply(void 0,arguments)},load:function(r){arguments[0]=r=n.$handleEvent(r),n.onSignatureLoad.apply(void 0,arguments)}}})],1):n._e(),!r.isExpanded&&r.authorSignature?t("v-uni-view",{staticClass:"user-signature-small"},[t("v-uni-image",{staticClass:"signature-image-small",attrs:{src:r.authorSignature,mode:"aspectFit"},on:{error:function(r){arguments[0]=r=n.$handleEvent(r),n.onSignatureError.apply(void 0,arguments)},load:function(r){arguments[0]=r=n.$handleEvent(r),n.onSignatureLoad.apply(void 0,arguments)}}})],1):n._e()],1)],1),r.isExpanded?t("v-uni-view",{staticClass:"vote-section",style:{backgroundColor:r.backgroundColor}},[t("v-uni-view",{staticClass:"actions-left"},[t("v-uni-view",{staticClass:"like-icon-container",attrs:{"data-postid":r._id,"data-index":e},on:{click:function(r){r.stopPropagation(),r.preventDefault(),arguments[0]=r=n.$handleEvent(r),n.onVote.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"like-icon",attrs:{src:r.likeIcon||"/static/images/seed.png",mode:"aspectFit"},on:{error:function(r){arguments[0]=r=n.$handleEvent(r),n.onLikeIconError.apply(void 0,arguments)}}})],1),t("v-uni-view",{staticClass:"comment-count",attrs:{"data-postid":r._id},on:{click:function(r){r.stopPropagation(),r.preventDefault(),arguments[0]=r=n.$handleEvent(r),n.onCommentClick.apply(void 0,arguments)}}},[t("v-uni-text",{staticClass:"comment-emoji"},[n._v("ğŸ’¬")])],1)],1),t("v-uni-view",{staticClass:"button-group"})],1):n._e()],1)})),1),t("v-uni-view",{staticClass:"loading-footer"},[!n.hasMore&&n.postList.length>0?[t("v-uni-text",[n._v("â€”â€” åˆ°åº•å•¦ â€”â€”")])]:n._e()],2)],1),n.showPageIndicator?t("v-uni-view",{staticClass:"page-indicator"}):n._e(),t("app-tab-bar",{ref:"customTabBar"})],1)},o=[]},f432:function(n,r,t){"use strict";t.r(r);var e=t("afbe"),a=t("7148");for(var o in a)["default"].indexOf(o)<0&&function(n){t.d(r,n,(function(){return a[n]}))}(o);t("0b3f");var i=t("828b"),s=Object(i["a"])(a["default"],e["b"],e["c"],!1,null,"61868a88",null,!1,e["a"],void 0);r["default"]=s.exports}}]);