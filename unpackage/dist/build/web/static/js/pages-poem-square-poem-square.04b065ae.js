(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-poem-square-poem-square"],{"09b8":function(n,t,r){var e=r("c86c");t=e(!1),t.push([n.i,'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* å®šä¹‰ Huiwen-mincho å­—ä½“ */@font-face{font-family:Huiwen-mincho;src:url(/static/fonts/Huiwen-mincho.otf) format("opentype");font-weight:400;font-style:normal}.white-bg[data-v-2f02c715]{background:#fff;min-height:100vh;padding-top:env(safe-area-inset-top,var(--safe-area-inset-top,44px)) /* æ·»åŠ çŠ¶æ€æ å®‰å…¨åŒºåŸŸï¼Œå¤‡é€‰æ–¹æ¡ˆ */}.square-mode-container[data-v-2f02c715]{padding:%?40?%;margin-bottom:%?200?%;padding-top:%?250?%; /* å¢åŠ ä¸Šè¾¹è·ï¼š100rpx(top-baré«˜åº¦) + 150rpx(é¢å¤–é—´è·) */display:flex;flex-direction:column;align-items:center /* å±…ä¸­å¡ç‰‡ */}.empty-state[data-v-2f02c715]{text-align:center;padding:%?100?% 0;color:#999}.empty-icon[data-v-2f02c715]{font-size:%?80?%;margin-bottom:%?20?%}.empty-text[data-v-2f02c715]{font-size:%?32?%;margin-bottom:%?10?%;color:#666}.empty-subtext[data-v-2f02c715]{font-size:%?24?%;color:#999}\r\n/* poem.css inspired card styles */.post-item-wrapper[data-v-2f02c715]{width:calc(100% - %?80?%); /* å“åº”å¼å®½åº¦ï¼šå±å¹•å®½åº¦å‡å»å·¦å³å„40rpxè¾¹è· */margin-left:%?40?%; /* å·¦è¾¹è· */margin-right:%?40?%; /* å³è¾¹è· */border-radius:%?30?%; /* 15px * 2 */margin-bottom:%?40?%; /* å‡å°‘é—´è·ï¼Œè®©å¡ç‰‡æ›´ç´§å‡‘ */overflow:hidden;box-shadow:0 %?8?% %?8?% rgba(0,0,0,.25); /* 0px 4px 4px * 2 */transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease;border:none}\r\n/* èƒŒæ™¯é¢œè‰²ç°åœ¨é€šè¿‡å†…è”æ ·å¼åŠ¨æ€è®¾ç½®ï¼Œä¸å†ä½¿ç”¨å›ºå®šçš„CSSç±» */.post-item-wrapper[data-v-2f02c715]:active{-webkit-transform:scale(.98);transform:scale(.98)}.post-content-navigator[data-v-2f02c715]{display:block}.post-item[data-v-2f02c715]{padding:%?30?% %?60?% %?30?% %?80?%;position:relative}\r\n/* è¿›ä¸€æ­¥å‡å°‘ä¸Šä¸‹paddingï¼Œæ–‡å­—å¾€å·¦ç§»åŠ¨ */\r\n/* Typography inspired by poem.css */.post-content[data-v-2f02c715]{font-family:Huiwen-mincho,sans-serif;font-style:normal;font-weight:500;font-size:%?28?%; /* è°ƒå°å­—ä½“ï¼š14px * 2 */line-height:%?38?%; /* è°ƒæ•´è¡Œè·ï¼š19px * 2 */margin:%?30?% 0;width:100%;color:#fff}\r\n/* æ–‡å­—é¢œè‰²ç°åœ¨é€šè¿‡å†…è”æ ·å¼åŠ¨æ€è®¾ç½® */\r\n/* æŠ˜å æ€ï¼šå½“æ²¡æœ‰é«˜å…‰è¡Œæ—¶æ˜¾ç¤ºå‰ä¸‰è¡Œï¼Œæœ‰é«˜å…‰è¡Œæ—¶æ˜¾ç¤ºé«˜å…‰è¡Œ */.post-content.collapsed[data-v-2f02c715]{overflow:hidden;text-overflow:ellipsis}\r\n/* å½“æ²¡æœ‰é«˜å…‰è¡Œæ—¶ï¼Œä½¿ç”¨ä¸‰è¡Œè£åˆ‡ */.post-content.collapsed.no-highlight[data-v-2f02c715]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.post-content.expanded[data-v-2f02c715]{display:block;overflow:visible}.comment-emoji[data-v-2f02c715]{font-size:%?40?%}.vote-section[data-v-2f02c715]{display:flex;justify-content:space-between;align-items:center;padding:%?25?% %?50?%}.actions-left[data-v-2f02c715]{flex:1;display:flex;align-items:center;gap:%?20?%}.button-group[data-v-2f02c715]{display:flex;align-items:center;gap:%?30?%}.comment-count[data-v-2f02c715]{display:flex;align-items:center;gap:%?8?%;padding:%?10?% %?15?%}.vote-count[data-v-2f02c715]{display:flex;align-items:center;gap:%?8?%;padding:%?10?% %?15?%;border-radius:%?20?%;background:hsla(0,0%,100%,.9);box-shadow:0 %?2?% %?8?% rgba(0,0,0,.1)}.comment-icon[data-v-2f02c715]{width:%?80?%;height:%?80?%}.like-icon[data-v-2f02c715]{width:%?60?%;height:%?60?%;margin-top:5px}\r\n/* ç”¨æˆ·ç­¾åæ ·å¼ */.user-signature[data-v-2f02c715]{position:absolute;bottom:%?-25?%; /* ä»15rpxå¾€ä¸‹ç§»åŠ¨40rpx */right:%?60?%;z-index:10;pointer-events:none /* é˜²æ­¢ç­¾åå½±å“ç‚¹å‡»äº‹ä»¶ */}.signature-image[data-v-2f02c715]{width:%?180?%;height:%?90?%;opacity:.8; /* ç¨å¾®é€æ˜ï¼Œä¸æŠ¢å¤ºä¸»è¦å†…å®¹çš„æ³¨æ„åŠ› */-webkit-filter:drop-shadow(0 %?2?% %?4?% rgba(0,0,0,.1));filter:drop-shadow(0 %?2?% %?4?% rgba(0,0,0,.1)); /* æ·»åŠ è½»å¾®é˜´å½± */display:block; /* ç¡®ä¿å›¾ç‰‡æ­£ç¡®æ˜¾ç¤º */background:transparent /* ç¡®ä¿èƒŒæ™¯é€æ˜ */}\r\n/* å°ç­¾åæ ·å¼ - æŠ˜å çŠ¶æ€ä¸‹æ˜¾ç¤º */.user-signature-small[data-v-2f02c715]{position:absolute;bottom:%?30?%;right:%?60?%;z-index:10;pointer-events:none /* é˜²æ­¢ç­¾åå½±å“ç‚¹å‡»äº‹ä»¶ */}.signature-image-small[data-v-2f02c715]{width:%?100?%;height:%?50?%;opacity:.6; /* æ›´é€æ˜ï¼Œä¸æŠ¢å¤ºä¸»è¦å†…å®¹çš„æ³¨æ„åŠ› */-webkit-filter:drop-shadow(0 %?1?% %?2?% rgba(0,0,0,.1));filter:drop-shadow(0 %?1?% %?2?% rgba(0,0,0,.1)); /* æ·»åŠ è½»å¾®é˜´å½± */display:block; /* ç¡®ä¿å›¾ç‰‡æ­£ç¡®æ˜¾ç¤º */background:transparent /* ç¡®ä¿èƒŒæ™¯é€æ˜ */}.loading-footer[data-v-2f02c715]{text-align:center;color:#666;padding:%?30?% 0 %?120?%}.page-indicator[data-v-2f02c715]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:rgba(0,0,0,.7);color:#fff;padding:%?20?% %?40?%;border-radius:%?40?%;z-index:1000;font-size:%?28?%}.page-indicator-text[data-v-2f02c715]{text-align:center}',""]),n.exports=t},"1e76":function(n,t,r){"use strict";r("6a54");var e=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e(r("39d8")),o=e(r("2634")),i=e(r("2fdc")),s=e(r("fcf3"));r("5c47"),r("8f71"),r("bf0f"),r("5ef2"),r("2797"),r("c223"),r("7a76"),r("c9b5");var c=e(r("724b")),l=e(r("71b6")),u=e(r("c4b7")),d=e(r("71b6")),p=r("38db"),f=p.cloudCall,g=r("9167"),h={onShow:function(){try{uni.hideTabBar({animation:!1})}catch(n){}try{this.$refs.customTabBar&&this.$refs.customTabBar.syncSelected&&this.$refs.customTabBar.syncSelected()}catch(n){}},components:{skeleton:l.default,topBar:u.default,AppTabBar:c.default},data:function(){return{postList:[],page:0,hasMore:!0,isLoading:!0,isLoadingMore:!1,lastUsedColorIndex:-1,backgroundColors:["#a4c4bd","#c9cfcf","#906161","#909388"],showPageIndicator:!1,votingInProgress:{},fetchingSignatures:{},safeAreaTop:0}},onLoad:function(){this.debugSafeArea(),this.getIndexData()},onPullDownRefresh:function(){console.log("ã€poem-squareã€‘ğŸ“± ä¸‹æ‹‰åˆ·æ–°ï¼Œé‡æ–°è·å–æ•°æ®"),this.getIndexData((function(){console.log("ã€poem-squareã€‘âœ… ä¸‹æ‹‰åˆ·æ–°å®Œæˆï¼Œåœæ­¢åˆ·æ–°åŠ¨ç”»"),uni.stopPullDownRefresh()}))},onPageScroll:function(n){var t=this;this._scrollTimer&&clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout((function(){if(t.hasMore&&!t.isLoadingMore&&!t.isLoading)try{var r=uni.getSystemInfoSync(),e=r.windowHeight;uni.createSelectorQuery().in(t).select("#post-list-container").boundingClientRect((function(r){if(r&&r.height){var a=r.height-n.scrollTop-e,o=1.5*e;a<o&&(t.showPageIndicator=!0,t.getPostList((function(){t.showPageIndicator=!1})))}})).exec()}catch(a){}}),100)},methods:{debugSafeArea:function(){try{var n=uni.getSystemInfoSync();if(console.log("ã€poem-squareã€‘ç³»ç»Ÿä¿¡æ¯:",{statusBarHeight:n.statusBarHeight,safeAreaInsets:n.safeAreaInsets,safeArea:n.safeArea,windowHeight:n.windowHeight,screenHeight:n.screenHeight,platform:n.platform}),n.statusBarHeight){var t=n.statusBarHeight;console.log("ã€poem-squareã€‘ä½¿ç”¨çŠ¶æ€æ é«˜åº¦ä½œä¸ºå®‰å…¨åŒºåŸŸ:",t),this.setData({safeAreaTop:t});try{"undefined"!==typeof document&&document.documentElement&&(document.documentElement.style.setProperty("--safe-area-inset-top",t+"px"),console.log("ã€poem-squareã€‘CSSå˜é‡è®¾ç½®æˆåŠŸ"))}catch(r){console.log("ã€poem-squareã€‘CSSå˜é‡è®¾ç½®å¤±è´¥ï¼Œä½¿ç”¨æ•°æ®ç»‘å®šæ–¹å¼:",r)}}}catch(e){console.error("ã€poem-squareã€‘å®‰å…¨åŒºåŸŸè°ƒè¯•å¤±è´¥:",e)}},callCloudFunction:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(n,t,Object.assign({pageTag:"poem-square",context:this,requireAuth:!1},r))},getIndexData:function(n){var t=this;console.log("ã€poem-squareã€‘å¼€å§‹è·å–æ•°æ®ï¼Œcallback:",(0,s.default)(n)),this.setData({isLoading:!0,postList:[],page:0,hasMore:!0}),this.getPostList((function(){console.log("ã€poem-squareã€‘getPostList å®Œæˆï¼Œè®¾ç½® isLoading: false"),t.setData({isLoading:!1}),"function"===typeof n&&(console.log("ã€poem-squareã€‘æ‰§è¡Œå›è°ƒå‡½æ•°"),n())}))},generateRandomBackgroundColor:function(){var n=this.backgroundColors,t=this.lastUsedColorIndex;if(-1===t){var r=Math.floor(Math.random()*n.length);return this.lastUsedColorIndex=r,n[r]}var e=n.filter((function(n,r){return r!==t})),a=e[Math.floor(Math.random()*e.length)];return this.lastUsedColorIndex=n.indexOf(a),a},getPostList:function(n){var t=this;return(0,i.default)((0,o.default)().mark((function r(){var e,a,i;return(0,o.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(console.log("ã€poem-squareã€‘getPostList å¼€å§‹ï¼ŒisLoadingMore:",t.isLoadingMore,"callback:",(0,s.default)(n)),!t.isLoadingMore){r.next=5;break}return console.log("ã€poem-squareã€‘æ­£åœ¨åŠ è½½æ›´å¤šï¼Œè·³è¿‡è¯·æ±‚"),"function"===typeof n&&n(),r.abrupt("return");case 5:return t.setData({isLoadingMore:!0}),r.prev=6,r.next=9,t.callCloudFunction("getPostList",{skip:10*t.page,limit:10,isPoem:!0,isOriginal:!0});case 9:e=r.sent,a=e&&e.result&&e.result.posts?e.result.posts:[],console.log("ã€poem-squareã€‘è·å–åˆ°å¸–å­æ•°é‡:",a.length),a.forEach((function(n){n.backgroundColor=n.backgroundColor||t.generateRandomBackgroundColor(),n.textColor=n.textColor||"#222",n.isExpanded=!1,n.authorSignature="",n.likeIcon=g&&g.getLikeIcon?g.getLikeIcon(n.votes||0,!!n.isVoted):""})),i=0===t.page?a:t.postList.concat(a),t.setData({postList:i,page:t.page+1,hasMore:10===a.length}),i.forEach((function(n,r){n._openid&&!n.authorSignature&&t.fetchAuthorSignature(n._openid,r)})),console.log("ã€poem-squareã€‘æ•°æ®å¤„ç†å®Œæˆ"),r.next=23;break;case 19:r.prev=19,r.t0=r["catch"](6),console.error("ã€poem-squareã€‘è·å–å¸–å­åˆ—è¡¨å¤±è´¥:",r.t0),uni.showToast({title:"åŠ è½½å¤±è´¥",icon:"none"});case 23:return r.prev=23,console.log("ã€poem-squareã€‘è®¾ç½® isLoadingMore: falseï¼Œæ‰§è¡Œå›è°ƒ"),t.setData({isLoadingMore:!1}),"function"===typeof n&&(console.log("ã€poem-squareã€‘æ‰§è¡Œå›è°ƒå‡½æ•°"),n()),r.finish(23);case 28:case"end":return r.stop()}}),r,null,[[6,19,23,28]])})))()},togglePostExpansion:function(n){var t=n.currentTarget.dataset.index,r=this.postList[t],e=!r.isExpanded;this.setData((0,a.default)({},"postList[".concat(t,"].isExpanded"),e)),r._openid&&!r.authorSignature&&this.fetchAuthorSignature(r._openid,t)},onCommentClick:function(n){var t=n.currentTarget.dataset.postid;uni.navigateTo({url:"/pages/post-detail/post-detail?id=".concat(t)})},onLikeIconError:function(){},fetchAuthorSignature:function(n,t){var r=this;return(0,i.default)((0,o.default)().mark((function e(){var i,s;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n&&!r.fetchingSignatures[n]){e.next=2;break}return e.abrupt("return");case 2:return r.fetchingSignatures[n]=!0,e.prev=3,e.next=6,r.callCloudFunction("getUserProfile",{userId:n});case 6:i=e.sent,i.result&&i.result.success&&i.result.userInfo&&i.result.userInfo.signatureUrl?(s=i.result.userInfo.signatureUrl,console.log("ã€poem-squareã€‘è·å–åˆ°ä½œè€…ç­¾å:",s),r.setData((0,a.default)({},"postList[".concat(t,"].authorSignature"),s))):(console.log("ã€poem-squareã€‘ä½œè€…æœªè®¾ç½®ç­¾å"),r.setData((0,a.default)({},"postList[".concat(t,"].authorSignature"),""))),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error("ã€poem-squareã€‘è·å–ä½œè€…ç­¾åå¤±è´¥:",e.t0),r.setData((0,a.default)({},"postList[".concat(t,"].authorSignature"),""));case 14:return e.prev=14,delete r.fetchingSignatures[n],e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})))()},onSignatureLoad:function(n){console.log("ã€poem-squareã€‘ç­¾åå›¾ç‰‡åŠ è½½æˆåŠŸ:",n)},onSignatureError:function(n){console.error("ã€poem-squareã€‘ç­¾åå›¾ç‰‡åŠ è½½å¤±è´¥:",n)},onVote:function(n){var t=this;return(0,i.default)((0,o.default)().mark((function r(){var e,i,s,c,l,u;return(0,o.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e=n.currentTarget.dataset.postid,i=n.currentTarget.dataset.index,!t.votingInProgress[e]){r.next=4;break}return r.abrupt("return");case 4:return t.setData((0,a.default)({},"votingInProgress.".concat(e),!0)),s=t.postList,c=s[i].votes||0,l=!!s[i].isVoted,s[i].votes=l?c-1:c+1,s[i].isVoted=!l,s[i].likeIcon=g.getLikeIcon(s[i].votes,s[i].isVoted),t.setData({postList:s}),r.prev=12,r.next=15,t.callCloudFunction("vote",{postId:e});case 15:if(u=r.sent,u&&u.result&&u.result.success){r.next=18;break}throw new Error("vote failed");case 18:"number"===typeof u.result.votes&&u.result.votes!==s[i].votes&&t.setData((0,a.default)({},"postList[".concat(i,"].votes"),u.result.votes)),r.next=28;break;case 21:r.prev=21,r.t0=r["catch"](12),s[i].votes=c,s[i].isVoted=l,s[i].likeIcon=g.getLikeIcon(c,l),t.setData({postList:s}),uni.showToast({title:"æ“ä½œå¤±è´¥",icon:"none"});case 28:return r.prev=28,t.setData((0,a.default)({},"votingInProgress.".concat(e),!1)),r.finish(28);case 31:case"end":return r.stop()}}),r,null,[[12,21,28,31]])})))()},touchStart:function(){},touchEnd:function(){}}};t.default=h,t.default.components=Object.assign({skeleton:d.default},t.default.components||{})},3599:function(n,t,r){var e=r("09b8");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var a=r("967d").default;a("4d8972a0",e,!0,{sourceMap:!1,shadowMode:!1})},7148:function(n,t,r){"use strict";r.r(t);var e=r("1e76"),a=r.n(e);for(var o in e)["default"].indexOf(o)<0&&function(n){r.d(t,n,(function(){return e[n]}))}(o);t["default"]=a.a},"7d14":function(n,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return e}));var e={topBar:r("c4b7").default,skeleton:r("71b6").default},a=function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("v-uni-view",{staticClass:"poem-square white-bg",on:{touchstart:function(t){arguments[0]=t=n.$handleEvent(t),n.touchStart.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=n.$handleEvent(t),n.touchEnd.apply(void 0,arguments)}}},[r("top-bar"),n.isLoading?r("v-uni-view",[r("skeleton")],1):r("v-uni-view",{staticClass:"square-mode-container"},[0===n.postList.length?r("v-uni-view",{staticClass:"empty-state"},[r("v-uni-view",{staticClass:"empty-icon"},[n._v("ğŸ˜¶")]),r("v-uni-view",{staticClass:"empty-text"},[n._v("è¿™é‡Œè¿˜æ²¡æœ‰å†…å®¹")]),r("v-uni-view",{staticClass:"empty-subtext"},[n._v("å»å¹¿åœºå‘å¸ƒä¸€æ¡å§ï½")])],1):n._e(),r("v-uni-view",{attrs:{id:"post-list-container"}},n._l(n.postList,(function(t,e){return r("v-uni-view",{key:t._id||e,staticClass:"post-item-wrapper",style:{backgroundColor:t.backgroundColor}},[r("v-uni-view",{staticClass:"post-content-navigator",attrs:{"data-index":e},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.togglePostExpansion.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"post-item"},[t.content?r("v-uni-view",{class:"post-content "+(t.isExpanded?"expanded":"collapsed")+(t.isExpanded||t.highlightLines&&0!==t.highlightLines.length?"":" no-highlight"),style:{color:t.textColor,whiteSpace:"pre-wrap"}},[t.isExpanded?[n._v(n._s(t.content))]:[t.highlightLines&&t.highlightLines.length>0?n._l(t.highlightLines,(function(t,e){return r("v-uni-text",{key:"line-"+e,staticStyle:{"font-weight":"700",display:"block"}},[n._v(n._s(t))])})):[n._v(n._s(t.content))]]],2):n._e(),t.isExpanded&&t.authorSignature?r("v-uni-view",{staticClass:"user-signature"},[r("v-uni-image",{staticClass:"signature-image",attrs:{src:t.authorSignature,mode:"aspectFit"},on:{error:function(t){arguments[0]=t=n.$handleEvent(t),n.onSignatureError.apply(void 0,arguments)},load:function(t){arguments[0]=t=n.$handleEvent(t),n.onSignatureLoad.apply(void 0,arguments)}}})],1):n._e(),!t.isExpanded&&t.authorSignature?r("v-uni-view",{staticClass:"user-signature-small"},[r("v-uni-image",{staticClass:"signature-image-small",attrs:{src:t.authorSignature,mode:"aspectFit"},on:{error:function(t){arguments[0]=t=n.$handleEvent(t),n.onSignatureError.apply(void 0,arguments)},load:function(t){arguments[0]=t=n.$handleEvent(t),n.onSignatureLoad.apply(void 0,arguments)}}})],1):n._e()],1)],1),t.isExpanded?r("v-uni-view",{staticClass:"vote-section",style:{backgroundColor:t.backgroundColor}},[r("v-uni-view",{staticClass:"actions-left"},[r("v-uni-view",{staticClass:"like-icon-container",attrs:{"data-postid":t._id,"data-index":e},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=n.$handleEvent(t),n.onVote.apply(void 0,arguments)}}},[r("v-uni-image",{staticClass:"like-icon",attrs:{src:t.likeIcon||"/static/images/seed.png",mode:"aspectFit"},on:{error:function(t){arguments[0]=t=n.$handleEvent(t),n.onLikeIconError.apply(void 0,arguments)}}})],1),r("v-uni-view",{staticClass:"comment-count",attrs:{"data-postid":t._id},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=n.$handleEvent(t),n.onCommentClick.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"comment-emoji"},[n._v("ğŸ’¬")])],1)],1),r("v-uni-view",{staticClass:"button-group"})],1):n._e()],1)})),1),r("v-uni-view",{staticClass:"loading-footer"},[!n.hasMore&&n.postList.length>0?[r("v-uni-text",[n._v("â€”â€” åˆ°åº•å•¦ â€”â€”")])]:n._e()],2)],1),n.showPageIndicator?r("v-uni-view",{staticClass:"page-indicator"}):n._e(),r("app-tab-bar",{ref:"customTabBar"})],1)},o=[]},"868d":function(n,t,r){"use strict";var e=r("3599"),a=r.n(e);a.a},f432:function(n,t,r){"use strict";r.r(t);var e=r("7d14"),a=r("7148");for(var o in a)["default"].indexOf(o)<0&&function(n){r.d(t,n,(function(){return a[n]}))}(o);r("868d");var i=r("828b"),s=Object(i["a"])(a["default"],e["b"],e["c"],!1,null,"2f02c715",null,!1,e["a"],void 0);t["default"]=s.exports}}]);