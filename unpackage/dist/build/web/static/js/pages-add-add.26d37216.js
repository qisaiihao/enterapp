(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-add-add"],{1407:function(n,r,t){var e=t("3ddc");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var o=t("967d").default;o("1cc483f4",e,!0,{sourceMap:!1,shadowMode:!1})},"3ddc":function(n,r,t){var e=t("c86c");r=e(!1),r.push([n.i,'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* pages/add/add.wxss */uni-page-body[data-v-21d3d85a]{height:100vh;overflow:hidden /* é¡µé¢çº§åˆ«ç¦æ­¢æ»šåŠ¨ */}.container[data-v-21d3d85a]{background:#fff;height:100vh; /* æ”¹ä¸ºå›ºå®šé«˜åº¦ï¼Œç¡®ä¿åœ¨iOSä¸‹æ­£ç¡®è®¡ç®— */display:flex;flex-direction:column;padding:%?100?% 0 0 0; /* ä¸previewé¡µé¢ä¿æŒä¸€è‡´çš„é¡¶éƒ¨è¾¹è· */padding-right:0; /* ç§»é™¤å³è¾¹è·ï¼Œè®©å·¥å…·æ ç´§è´´å³è¾¹ç¼˜ */box-sizing:border-box; /* ç¡®ä¿paddingè®¡ç®—åœ¨å†… */overflow:hidden; /* é˜²æ­¢æ•´ä¸ªé¡µé¢æ»šåŠ¨ */position:relative /* ç¡®ä¿å®šä½ä¸Šä¸‹æ–‡ */}\r\n/* å›¾ç‰‡é¢„è§ˆåŒºåŸŸ */.image-section[data-v-21d3d85a]{padding:%?30?%;background:#f8f9fa}.image-preview-scroll[data-v-21d3d85a]{width:100%;white-space:nowrap}.image-preview-container[data-v-21d3d85a]{display:flex;gap:%?20?%;padding:0 %?10?%}.image-preview-item[data-v-21d3d85a]{position:relative;width:%?200?%;height:%?200?%;border-radius:%?12?%;overflow:hidden;flex-shrink:0}.preview-image[data-v-21d3d85a]{width:100%;height:100%;border-radius:%?12?%}.image-remove-btn[data-v-21d3d85a]{position:absolute;top:%?-8?%;right:%?-8?%;width:%?40?%;height:%?40?%;background:#f44;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:%?24?%;font-weight:700;box-shadow:0 %?2?% %?8?% rgba(0,0,0,.2)}.add-image-btn[data-v-21d3d85a]{width:%?200?%;height:%?200?%;border:%?2?% dashed #ddd;border-radius:%?12?%;display:flex;align-items:center;justify-content:center;background:#fff;transition:all .3s ease;flex-shrink:0}.add-image-btn[data-v-21d3d85a]:active{background:#f5f5f5;border-color:#9ed7ee}.add-icon[data-v-21d3d85a]{font-size:%?60?%;color:#999}\r\n/* å†…å®¹è¾“å…¥åŒºåŸŸ */.content-section[data-v-21d3d85a]{padding:%?30?%;padding-bottom:%?30?%;background:#fff;flex:1;display:flex;flex-direction:column;min-height:0;overflow:visible; /* æ”¹ä¸ºvisibleï¼Œå…è®¸æµ®åŠ¨æŒ‰é’®æ˜¾ç¤º */position:relative}\r\n/* ä¸»è¾“å…¥åŒºåŸŸ - å“åº”å¼å¸ƒå±€ */.main-input-area[data-v-21d3d85a]{flex:1;display:flex;position:relative;min-height:0;overflow:visible; /* æ”¹ä¸ºvisibleï¼Œå…è®¸æµ®åŠ¨æŒ‰é’®æ˜¾ç¤º */padding:0 %?30?% 0 %?30?% /* åªä¿ç•™å·¦è¾¹è·ï¼Œå³è¾¹è·ä¸º0 */}.content-input-wrapper[data-v-21d3d85a]{position:relative;flex:1;display:flex;flex-direction:column;margin-right:%?70?%; /* ç§»é™¤å³è¾¹è· */min-height:0;overflow:hidden\r\n    /* ç§»é™¤å›ºå®šå®½åº¦ï¼Œè®©è¾“å…¥æ¡†è‡ªé€‚åº” */}.content-textarea[data-v-21d3d85a]{flex:1;width:100%;height:100%;border:none;font-size:%?32?%; /* å¯¹åº”16px */line-height:1.5; /* å¯¹åº”19pxè¡Œé«˜ */padding:%?60?%; /* å¯¹åº”30pxå†…è¾¹è· */background:#e8e8e8;resize:none;overflow-y:auto;overflow-x:hidden;-webkit-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:text;user-select:text;-webkit-touch-callout:default;border-radius:%?20?%; /* å¯¹åº”10pxåœ†è§’ */outline:none;-webkit-overflow-scrolling:touch;position:relative;color:#989090; /* ä½¿ç”¨CSSä¸­å®šä¹‰çš„æ–‡å­—é¢œè‰² */font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;font-weight:300;\r\n    /* ç²¾ç¡®å°ºå¯¸ï¼š314pxå®½ï¼Œ383pxé«˜ */min-height:%?766?%; /* å¯¹åº”383px */max-height:%?766?%}\r\n/* å½“é«˜å…‰æ¨¡å¼å¯ç”¨æ—¶ï¼Œéšè—textareaçš„æ–‡å­—å†…å®¹ */.content-input-wrapper[data-highlight-mode="true"] .content-textarea[data-v-21d3d85a]{color:transparent}.char-count[data-v-21d3d85a]{position:absolute;bottom:%?10?%; /* ç§»åˆ°textareaå¤–é¢ï¼Œç»™æ–‡å­—ç•™å‡ºç©ºé—´ */right:%?110?%; /* leave space for side toolbar */font-size:%?24?%;color:#666;background:#fdfdfd;padding:%?8?% %?12?%;border-radius:%?6?%;box-shadow:none;pointer-events:none /* é˜²æ­¢é®æŒ¡textareaçš„ç‚¹å‡» */}\r\n/* æ¨¡å¼é€‰æ‹©å™¨ */\r\n/* æ¨¡å¼é€‰æ‹©å™¨é®ç½© */.mode-selector-mask[data-v-21d3d85a]{position:fixed;left:0;right:0;top:0;bottom:0;background:rgba(0,0,0,.35);z-index:130;display:flex;align-items:flex-end}.mode-selector[data-v-21d3d85a]{width:100%;background:#fff;border-top-left-radius:%?24?%;border-top-right-radius:%?24?%;padding:%?24?% %?28?% calc(%?24?% + env(safe-area-inset-bottom))}.mode-title[data-v-21d3d85a]{font-size:%?30?%;color:#333;text-align:center;margin-bottom:%?24?%;font-weight:500}.mode-list[data-v-21d3d85a]{display:flex;flex-direction:column;gap:0}.mode-option[data-v-21d3d85a]{display:flex;align-items:center;justify-content:space-between;padding:%?24?% 0;border-bottom:%?1?% solid #f0f0f0;transition:all .2s ease}.mode-option[data-v-21d3d85a]:last-child{border-bottom:none}.mode-option[data-v-21d3d85a]:active{background:#f8f9fa}.mode-text[data-v-21d3d85a]{font-size:%?28?%;color:#333;flex:1}.mode-check[data-v-21d3d85a]{color:#1c9bd6;font-size:%?28?%;font-weight:700}\r\n/* æ ‡ç­¾é€‰æ‹©åŒºåŸŸæ ·å¼ */.tag-section[data-v-21d3d85a]{position:fixed; /* ç¡®ä¿æ ‡ç­¾é€‰æ‹©å™¨æ˜¯åŸºäºçª—å£å®šä½çš„ */bottom:%?120?%; /* åˆå§‹ä½ç½®åœ¨å·¥å…·æ ä¸Šæ–¹ */left:0;right:%?100?%; /* ä¸ºå³ä¾§å·¥å…·æ é¢„ç•™ç©ºé—´ */background:#f8f9fa;border-radius:%?12?%;padding:%?20?%;z-index:90; /* z-index æ¯”å·¥å…·æ ä½ï¼Œä½†æ¯”å†…å®¹é«˜ */transition:bottom .3s ease-out /* ä¸ºä½ç½®å˜åŒ–æ·»åŠ è¿‡æ¸¡ */}.tag-header[data-v-21d3d85a]{display:flex;justify-content:space-between;align-items:center;padding:%?10?% %?0?%;border-bottom:1px solid #eee;margin-bottom:%?20?%}.tag-title[data-v-21d3d85a]{font-size:%?30?%;font-weight:700;color:#333}.tag-count[data-v-21d3d85a]{font-size:%?24?%;color:#999}.tag-toggle[data-v-21d3d85a]{font-size:%?26?%;color:#9ed7ee}.selected-tags[data-v-21d3d85a]{display:flex;flex-wrap:wrap;gap:%?10?%;margin-bottom:%?20?%}.selected-tag[data-v-21d3d85a]{display:flex;align-items:center;background:#9ed7ee;color:#fff;padding:%?8?% %?16?%;border-radius:%?20?%;font-size:%?24?%}.remove-tag[data-v-21d3d85a]{margin-left:%?8?%;font-size:%?20?%;font-weight:700;cursor:pointer}\r\n/* æ ‡ç­¾é€‰æ‹©å¼¹å±‚ */.tag-selector-mask[data-v-21d3d85a]{position:fixed;left:0;right:0;top:0;bottom:0;background:rgba(0,0,0,.35);z-index:130;display:flex;align-items:flex-end}.tag-selector[data-v-21d3d85a]{width:100%;background:#fff;border-top-left-radius:%?24?%;border-top-right-radius:%?24?%;padding:%?40?% %?28?% calc(%?40?% + env(safe-area-inset-bottom));min-height:20vh;max-height:70vh;display:flex;flex-direction:column;-webkit-animation:slideUp-data-v-21d3d85a .3s ease;animation:slideUp-data-v-21d3d85a .3s ease}\r\n/* åˆ†ç±»é€‰æ‹©å™¨æ ·å¼ */.category-selector[data-v-21d3d85a]{margin-bottom:%?20?%;border-bottom:1px solid #eee;padding-bottom:%?15?%}.category-scroll[data-v-21d3d85a]{width:100%;white-space:nowrap}.category-list[data-v-21d3d85a]{display:flex;gap:%?15?%;padding:%?10?% %?10?%}.category-item[data-v-21d3d85a]{display:flex;flex-direction:column;align-items:center;padding:%?15?% %?12?%;border-radius:%?12?%;background:#f5f5f5;transition:all .3s ease;min-width:%?80?%;flex-shrink:0}.category-item.active[data-v-21d3d85a]{background:#9ed7ee;color:#fff}.category-icon[data-v-21d3d85a]{font-size:%?24?%;margin-bottom:%?5?%}.category-name[data-v-21d3d85a]{font-size:%?20?%;text-align:center;line-height:1.2}\r\n/* å½“å‰åˆ†ç±»æ ‡ç­¾æ ·å¼ */.current-category-tags[data-v-21d3d85a]{display:flex;flex-wrap:wrap;gap:%?10?%;margin-bottom:%?20?%}.preset-tag[data-v-21d3d85a]{padding:%?8?% %?16?%;background:#fff;border:1px solid #ddd;border-radius:%?20?%;font-size:%?24?%;color:#666;transition:all .3s ease}.preset-tag.selected[data-v-21d3d85a]{background:#9ed7ee;color:#fff;border-color:#9ed7ee}.custom-tag-input[data-v-21d3d85a]{display:flex;align-items:center;gap:%?10?%}.custom-tag-input uni-input[data-v-21d3d85a]{flex:1;height:%?60?%;border:1px solid #ddd;border-radius:%?8?%;padding:0 %?15?%;font-size:%?26?%}.custom-tag-input uni-button[data-v-21d3d85a]{background:#9ed7ee;color:#fff;border:none;border-radius:%?8?%;padding:0 %?20?%;height:%?60?%;font-size:%?24?%;min-width:%?80?%;flex-shrink:0}\r\n/* åŒ¹é…æ ‡ç­¾æ¨èæ ·å¼ */.matched-tags[data-v-21d3d85a]{margin-top:%?15?%;padding:%?15?%;background:#f8f9fa;border-radius:%?8?%;border:1px solid #e9ecef}.matched-tags-title[data-v-21d3d85a]{font-size:%?24?%;color:#666;margin-bottom:%?10?%}.matched-tags-list[data-v-21d3d85a]{display:flex;flex-wrap:wrap;gap:%?8?%}.matched-tag[data-v-21d3d85a]{background:#e3f2fd;color:#1976d2;padding:%?6?% %?12?%;border-radius:%?12?%;font-size:%?22?%;border:1px solid #bbdefb;transition:all .2s ease}.matched-tag[data-v-21d3d85a]:active{background:#bbdefb;-webkit-transform:scale(.95);transform:scale(.95)}@-webkit-keyframes slideDown-data-v-21d3d85a{from{opacity:0;-webkit-transform:translateY(%?-10?%);transform:translateY(%?-10?%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes slideDown-data-v-21d3d85a{from{opacity:0;-webkit-transform:translateY(%?-10?%);transform:translateY(%?-10?%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes slideUp-data-v-21d3d85a{from{opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes slideUp-data-v-21d3d85a{from{opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}\r\n/* ====== å³ä¾§å·¥å…·æ æ ·å¼ ====== */.side-toolbar[data-v-21d3d85a]{position:absolute;top:0;right:0;bottom:0;width:%?90?%; /* è°ƒæ•´å·¥å…·æ å®½åº¦ä¸æŒ‰é’®å®½åº¦ä¸€è‡´ */display:flex;flex-direction:column;align-items:center;justify-content:flex-start;gap:0; /* ç§»é™¤é—´è·ï¼Œè®©å›¾æ ‡ç´§å¯†æ’åˆ— */z-index:10;padding:%?20?% 0;background:transparent}.side-tool-btn[data-v-21d3d85a]{width:%?90?%; /* è°ƒæ•´æŒ‰é’®å°ºå¯¸ */height:%?90?%;border:none; /* ç§»é™¤è¾¹æ¡† */background:transparent; /* ç§»é™¤èƒŒæ™¯ */display:flex;align-items:center;justify-content:center;box-shadow:none; /* ç§»é™¤é˜´å½± */transition:all .2s ease;flex-shrink:0;margin-bottom:%?20?%; /* è°ƒæ•´é—´è· */margin-right:%?0?% /* å‘å³ç§»åŠ¨ */}.side-tool-btn[data-v-21d3d85a]:active{-webkit-transform:scale(.95);transform:scale(.95)}.side-tool-icon[data-v-21d3d85a]{width:%?75?%; /* è°ƒæ•´å›¾æ ‡å°ºå¯¸åˆ°75rpx */height:%?75?%;display:flex;align-items:center;justify-content:center;font-size:%?30?%;color:#333}\r\n/* å·¦ä¸‹è§’è¿”å›æŒ‰é’® */.back-btn[data-v-21d3d85a]{position:fixed;bottom:%?100?%;left:%?30?%;width:%?100?%;height:%?100?%;background:transparent;border:none;display:block;z-index:10;transition:all .2s ease;box-sizing:border-box}.back-btn[data-v-21d3d85a]:active{-webkit-transform:scale(.95);transform:scale(.95)}.back-icon[data-v-21d3d85a]{width:100px;height:100px;display:block;object-fit:contain}\r\n/* æµ®åŠ¨æ“ä½œæŒ‰é’® */.floating-action-btn[data-v-21d3d85a]{position:fixed; /* æ”¹ä¸ºfixedå®šä½ï¼Œç›¸å¯¹äºè§†å£å®šä½ */bottom:%?30?%; /* è°ƒæ•´ä½ç½® */right:%?50?%; /* è°ƒæ•´ä½ç½® */width:%?200?%;height:%?200?%;background:transparent;border:none;display:block;z-index:10;transition:all .2s ease;box-sizing:border-box}.floating-action-btn[data-v-21d3d85a]:active{-webkit-transform:scale(.95);transform:scale(.95)}.fab-icon[data-v-21d3d85a]{width:%?200?%;height:%?200?%;display:block;object-fit:contain;object-position:center;border:none;box-sizing:border-box}\r\n/* è®©æ­£æ–‡ä¸ºå³ä¾§å·¥å…·æ é¢„ç•™ç©ºé—´åŠè®¡æ•°é¿è®© */.content-input-wrapper[data-v-21d3d85a]{padding-right:%?0?% /* å‡å°‘å³è¾¹è·ï¼Œè®©è¾“å…¥æ¡†æ›´å®½ */}.char-count[data-v-21d3d85a]{right:%?130?% /* è°ƒæ•´å­—ç¬¦è®¡æ•°ä½ç½® */}\r\n/* é¢œè‰²é€‰æ‹©å¼¹å±‚ */.color-picker-mask[data-v-21d3d85a]{position:fixed;left:0;right:0;top:0;bottom:0;background:rgba(0,0,0,.35);z-index:130;display:flex;align-items:flex-end}.color-picker[data-v-21d3d85a]{width:100%;background:#fff;border-top-left-radius:%?24?%;border-top-right-radius:%?24?%;padding:%?24?% %?28?% calc(%?24?% + env(safe-area-inset-bottom));min-height:50vh; /* æœ€å°é«˜åº¦è®¾ä¸ºåŠå± */max-height:70vh; /* é™åˆ¶æœ€å¤§é«˜åº¦ä¸º70%å±å¹•é«˜åº¦ */display:flex;flex-direction:column;-webkit-animation:slideUp-data-v-21d3d85a .3s ease;animation:slideUp-data-v-21d3d85a .3s ease}.color-picker-title[data-v-21d3d85a]{font-size:%?32?%;font-weight:600;color:#333;flex:1;text-align:center}.color-picker-header[data-v-21d3d85a]{display:flex;align-items:center;justify-content:center;margin-bottom:%?24?%;position:relative}.color-picker-back-btn[data-v-21d3d85a]{position:absolute;top:0;right:0;width:%?80?%;height:%?80?%;display:flex;align-items:center;justify-content:center;background:transparent;border-radius:50%;z-index:10}.color-picker-back-icon[data-v-21d3d85a]{width:%?60?%;height:%?60?%}\r\n/* è‰²å¡é€‰æ‹©ç•Œé¢ */.color-palette-step[data-v-21d3d85a]{display:flex;flex-direction:column;height:100%}.color-palette-step .color-picker-title[data-v-21d3d85a]{margin-bottom:%?32?% /* å¢åŠ æ ‡é¢˜ä¸‹æ–¹çš„é—´è· */}.palette-scroll[data-v-21d3d85a]{flex:1;min-height:%?800?%;max-height:%?1000?%}.palette-grid[data-v-21d3d85a]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:%?20?%;padding:0 %?10?%}.palette-card[data-v-21d3d85a]{height:%?120?%;border-radius:%?16?%;padding:%?16?%;position:relative;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.1);transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease}.palette-card[data-v-21d3d85a]:active{-webkit-transform:scale(.98);transform:scale(.98)}.palette-name[data-v-21d3d85a]{font-size:%?24?%;font-weight:600;margin-bottom:%?8?%;text-shadow:0 %?1?% %?2?% rgba(0,0,0,.3)}.palette-preview[data-v-21d3d85a]{display:flex;gap:%?8?%}.mini-color[data-v-21d3d85a]{width:%?20?%;height:%?20?%;border-radius:50%;border:%?2?% solid hsla(0,0%,100%,.5)}\r\n/* å…·ä½“é¢œè‰²é€‰æ‹©ç•Œé¢ */.colors-scroll[data-v-21d3d85a]{flex:1;min-height:%?800?%;max-height:%?1000?%}.colors-grid[data-v-21d3d85a]{display:grid;grid-template-columns:repeat(1,1fr);grid-gap:%?16?%;padding:0 %?10?%}.color-option[data-v-21d3d85a]{height:%?100?%;border-radius:%?16?%;padding:%?20?%;position:relative;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.1);transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease;display:flex;align-items:center;justify-content:space-between}.color-option[data-v-21d3d85a]:active{-webkit-transform:scale(.98);transform:scale(.98)}.color-text[data-v-21d3d85a]{font-size:%?28?%;font-weight:500}.color-check[data-v-21d3d85a]{position:absolute;right:%?20?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:%?32?%;font-weight:700;text-shadow:0 %?1?% %?2?% rgba(0,0,0,.3)}\r\n/* é«˜å…‰é€‰æ‹© - å…¨å±è¦†ç›–æ ·å¼ */.highlight-overlay[data-v-21d3d85a]{position:fixed;left:0;right:0;top:0;bottom:0;background:rgba(0,0,0,.6);z-index:1000;display:flex;align-items:stretch;justify-content:stretch}.hl-panel[data-v-21d3d85a]{background:#fff;width:100%;height:100%;display:flex;flex-direction:column}.hl-header[data-v-21d3d85a]{display:flex;align-items:center;justify-content:space-between;padding:%?20?% %?28?%;border-bottom:%?1?% solid #eee;position:-webkit-sticky;position:sticky;top:0;background:#fff;z-index:1}.hl-title[data-v-21d3d85a]{font-size:%?30?%;color:#333}.highlight-scroll[data-v-21d3d85a]{flex:1;padding:%?16?% %?24?% %?40?%}.hl-line[data-v-21d3d85a]{padding:%?14?% %?18?%;border-radius:%?10?%;margin:%?8?% 0;background:#f6f7f9}.hl-line.selected[data-v-21d3d85a]{font-weight:700;background:#e8f2ff}.hl-text[data-v-21d3d85a]{white-space:pre-wrap;word-break:break-word;font-size:%?30?%;color:#333}.hl-done[data-v-21d3d85a]{background:#1c9bd6;color:#fff;padding:0 %?20?%}.hl-clear[data-v-21d3d85a]{background:#eee;color:#333;padding:0 %?20?%}\r\n/* é«˜å…‰é€‰æ‹©è¦†ç›–å±‚æ ·å¼ */.highlight-overlay[data-v-21d3d85a]{border:none}.hl-done[data-v-21d3d85a]{background:#9ed7ee;color:#fff}.hl-clear[data-v-21d3d85a]{background:#666;color:#fff}\r\n/* æ–°çš„è¦†ç›–å±‚æ ·å¼ */.highlight-select-overlay[data-v-21d3d85a]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;pointer-events:auto;overflow:hidden;\r\n    /* ç¡®ä¿ä¸è¶…å‡ºè¾“å…¥æ¡†è¾¹ç•Œ */max-width:100%;max-height:100%;box-sizing:border-box}.overlay-scroll[data-v-21d3d85a]{height:100%;width:100%;overflow-y:auto\r\n    /* åŒ¹é…textareaçš„æ»šåŠ¨è¡Œä¸º */}.overlay-content[data-v-21d3d85a]{height:100%;width:100%;\r\n    /* ç§»é™¤æ‰€æœ‰å¯èƒ½å¯¼è‡´é¢å¤–ç©ºé—´çš„æ ·å¼ */font-size:0; /* éšè—å­—ä½“ï¼Œä¸å ç”¨ç©ºé—´ */line-height:0;color:transparent;box-sizing:border-box;border-radius:%?20?%;\r\n    /* ç¡®ä¿ä¸è¶…å‡ºçˆ¶å®¹å™¨ */max-width:100%;max-height:100%;overflow:hidden;position:relative /* ä¸ºç»å¯¹å®šä½çš„å­å…ƒç´ æä¾›å®šä½ä¸Šä¸‹æ–‡ */}.overlay-line[data-v-21d3d85a]{margin:0;position:absolute; /* ç»å¯¹å®šä½ï¼Œé€šè¿‡styleå±æ€§è®¾ç½®top */left:0;right:0;height:%?48?%; /* å›ºå®šè¡Œé«˜ï¼š32rpxå­—ä½“ + 1.5è¡Œé«˜ */transition:background-color .2s ease;padding:%?20?%; /* å‡å°‘paddingï¼Œé¿å…è¶…å‡ºè¾¹ç•Œ */line-height:1.5;font-size:%?32?%; /* ä¸è¾“å…¥æ¡†ä¿æŒç›¸åŒçš„å­—ä½“å¤§å° */font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;font-weight:300;box-sizing:border-box;pointer-events:none; /* é˜²æ­¢å¹²æ‰°æ»šåŠ¨ */\r\n    /* ç¡®ä¿ä¸è¶…å‡ºçˆ¶å®¹å™¨ */max-width:100%;overflow:hidden}.overlay-line.highlighted[data-v-21d3d85a]{background-color:rgba(158,215,238,.2);border-radius:%?8?%}.overlay-line-content[data-v-21d3d85a]{color:#666; /* åŠé€æ˜é¢œè‰²ï¼Œè®©ç”¨æˆ·èƒ½çœ‹åˆ°ä¸‹é¢çš„æ–‡å­— */white-space:pre-wrap;word-break:break-word;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;font-weight:300;font-size:%?32?%; /* ä¸è¾“å…¥æ¡†ä¿æŒç›¸åŒçš„å­—ä½“å¤§å° */line-height:1.5;margin:0;padding:0;display:block;\r\n    /* ç¡®ä¿æ–‡å­—ä¸è¶…å‡ºè¾¹ç•Œ */max-width:100%;overflow:hidden;text-overflow:ellipsis}\r\n/* é«˜å…‰é€‰æ‹©æç¤º */.highlight-hint[data-v-21d3d85a]{position:fixed;bottom:%?100?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);background:hsla(0,0%,50.2%,.6);color:#fff;padding:%?12?% %?24?%;border-radius:%?20?%;z-index:1000;text-align:center;white-space:nowrap}.hint-text[data-v-21d3d85a]{font-size:%?24?%;line-height:1.2}\r\n/* è°ƒæ•´textareaçš„z-indexï¼Œç¡®ä¿åœ¨è¦†ç›–å±‚ä¸‹æ–¹ */.content-textarea[data-v-21d3d85a]{z-index:0}\r\n/* å½“é«˜å…‰æ¨¡å¼å¯ç”¨æ—¶ï¼Œtextareaçš„æ ·å¼è°ƒæ•´ */.content-input-wrapper[data-v-21d3d85a]{position:relative}\r\n/* å“åº”å¼è®¾è®¡ - å°å±å¹•é€‚é… */@media screen and (max-width:%?750?%){.content-textarea[data-v-21d3d85a]{font-size:%?28?%;padding:%?20?%;min-height:%?180?%}.side-toolbar[data-v-21d3d85a]{width:%?70?%;gap:%?15?%}.side-tool-btn[data-v-21d3d85a]{width:%?50?%;height:%?50?%}.side-tool-icon[data-v-21d3d85a]{font-size:%?18?%}.floating-action-btn[data-v-21d3d85a]{width:%?200?%;height:%?200?%;bottom:%?30?%;right:%?50?%}.fab-icon[data-v-21d3d85a]{font-size:%?20?%}}\r\n/* å“åº”å¼è®¾è®¡ - å¤§å±å¹•é€‚é… */@media screen and (min-width:%?1200?%){.content-textarea[data-v-21d3d85a]{font-size:%?32?%;padding:%?30?%;min-height:%?250?%}.side-toolbar[data-v-21d3d85a]{width:%?90?%;gap:%?25?%}.side-tool-btn[data-v-21d3d85a]{width:%?70?%;height:%?70?%}.side-tool-icon[data-v-21d3d85a]{font-size:%?22?%}.floating-action-btn[data-v-21d3d85a]{width:%?200?%;height:%?200?%}.fab-icon[data-v-21d3d85a]{font-size:%?26?%}}\r\n/* å“åº”å¼è®¾è®¡ - è¶…å°å±å¹•é€‚é… */@media screen and (max-width:%?600?%){.main-input-area[data-v-21d3d85a]{flex-direction:column}.side-toolbar[data-v-21d3d85a]{position:relative;width:100%;height:auto;flex-direction:row;justify-content:space-around;padding:%?20?% 0;gap:%?10?%}.content-input-wrapper[data-v-21d3d85a]{margin-right:0;margin-bottom:%?20?%}.floating-action-btn[data-v-21d3d85a]{position:fixed;bottom:%?30?%;right:%?50?%;width:%?200?%;height:%?200?%}}',""]),n.exports=r},"50d0":function(n,r,t){"use strict";t.r(r);var e=t("77d6"),o=t("979d");for(var a in o)["default"].indexOf(a)<0&&function(n){t.d(r,n,(function(){return o[n]}))}(a);t("db51");var i=t("828b"),s=Object(i["a"])(o["default"],e["b"],e["c"],!1,null,"21d3d85a",null,!1,e["a"],void 0);r["default"]=s.exports},"6e3f":function(n,r,t){"use strict";t("6a54");var e=t("f5bd").default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,a=e(t("39d8")),i=e(t("b7c7")),s=e(t("fcf3"));t("5c47"),t("dfcf"),t("0c26"),t("bf0f"),t("7a76"),t("c9b5"),t("4626"),t("5ac7"),t("fd3c"),t("18f7"),t("de6c"),t("dc89"),t("2425"),t("c223"),t("dd2b"),t("8f71"),t("64aa"),t("f7a5"),t("5ef2"),t("aa9c"),t("4100");var l=t("11ca"),c=l.cloudCall,d={data:function(){return{content:"",selectedBackgroundColor:"#a4c4bd",selectedTextColor:"#333333",selectedColorCombination:null,showColorPicker:!1,colorPickerStep:"palette",selectedPalette:null,poemLines:["çº¢è—•é¦™æ®‹ç‰ç°Ÿç§‹","è½»è§£ç½—è£³","ç‹¬ä¸Šå…°èˆŸ","äº‘ä¸­è°å¯„é”¦ä¹¦æ¥","é›å­—å›æ—¶","æœˆæ»¡è¥¿æ¥¼","èŠ±è‡ªé£˜é›¶æ°´è‡ªæµ","ä¸€ç§ç›¸æ€","ä¸¤å¤„é—²æ„","æ­¤æƒ…æ— è®¡å¯æ¶ˆé™¤","æ‰ä¸‹çœ‰å¤´","å´ä¸Šå¿ƒå¤´"],colorPalettes:[{name:"Darlington",colors:[{backgroundColor:"#ACCAB2",textColor:"#D44720"},{backgroundColor:"#E9A752",textColor:"#78614D"},{backgroundColor:"#D44720",textColor:"#F0E6D5"},{backgroundColor:"#78614D",textColor:"#E9A752"}]},{name:"True Navy",colors:[{backgroundColor:"#28374D",textColor:"#DDE6ED"},{backgroundColor:"#536D82",textColor:"#DDE6ED"},{backgroundColor:"#9DB2BF",textColor:"#28374D"},{backgroundColor:"#DDE6ED",textColor:"#28374D"}]},{name:"Inkwell",colors:[{backgroundColor:"#2C3639",textColor:"#DCD7C9"},{backgroundColor:"#3F4E4F",textColor:"#DCD7C9"},{backgroundColor:"#A27B5B",textColor:"#2C3639"},{backgroundColor:"#DCD7C9",textColor:"#2C3639"}]},{name:"Olive",colors:[{backgroundColor:"#706134",textColor:"#FAE7C9"},{backgroundColor:"#B0926A",textColor:"#706134"},{backgroundColor:"#E1C78F",textColor:"#706134"},{backgroundColor:"#FAE7C9",textColor:"#706134"}]},{name:"Red Chai",colors:[{backgroundColor:"#632626",textColor:"#DBCB96"},{backgroundColor:"#9D5353",textColor:"#DBCB96"},{backgroundColor:"#BF8B67",textColor:"#632626"},{backgroundColor:"#DBCB96",textColor:"#632626"}]},{name:"Cotton",colors:[{backgroundColor:"#EDEBBD",textColor:"#1B1717"},{backgroundColor:"#810100",textColor:"#EDEBBD"},{backgroundColor:"#630000",textColor:"#EDEBBD"},{backgroundColor:"#1B1717",textColor:"#EDEBBD"}]},{name:"å®£çº¸ç™½é¸¢å°¾è“",colors:[{backgroundColor:"#F9F2E0",textColor:"#1660AB"},{backgroundColor:"#1660AB",textColor:"#F9F2E0"}]},{name:"Emerald Green",colors:[{backgroundColor:"#28413B",textColor:"#F8D794"},{backgroundColor:"#809076",textColor:"#111A1B"},{backgroundColor:"#F8D794",textColor:"#111A1B"},{backgroundColor:"#B8682C",textColor:"#111A1B"},{backgroundColor:"#111A1B",textColor:"#F8D794"}]},{name:"Space Cadet",colors:[{backgroundColor:"#25344F",textColor:"#D5B893"},{backgroundColor:"#617891",textColor:"#D5B893"},{backgroundColor:"#D5B893",textColor:"#25344F"},{backgroundColor:"#6F4D38",textColor:"#D5B893"},{backgroundColor:"#632024",textColor:"#D5B893"}]},{name:"Jasper Orange",colors:[{backgroundColor:"#E48F50",textColor:"#2D293B"},{backgroundColor:"#753130",textColor:"#729BAE"},{backgroundColor:"#2D293B",textColor:"#E48F50"},{backgroundColor:"#60859E",textColor:"#2D293B"},{backgroundColor:"#729BAE",textColor:"#2D293B"}]},{name:"Maastricht Blue",colors:[{backgroundColor:"#041A38",textColor:"#D8E7EE"},{backgroundColor:"#4A9ACB",textColor:"#041A38"},{backgroundColor:"#97D4F1",textColor:"#041A38"},{backgroundColor:"#394C5C",textColor:"#D8E7EE"},{backgroundColor:"#D8E7EE",textColor:"#041A38"}]},{name:"Dark Sienna",colors:[{backgroundColor:"#481718",textColor:"#93A292"},{backgroundColor:"#CA5655",textColor:"#F3EBE0"},{backgroundColor:"#93A292",textColor:"#481718"},{backgroundColor:"#39703D",textColor:"#F3EBE0"},{backgroundColor:"#75B974",textColor:"#481718"}]},{name:"Medium Carmine",colors:[{backgroundColor:"#AF3D41",textColor:"#EAC891"},{backgroundColor:"#70A3AC",textColor:"#131A1F"},{backgroundColor:"#5393A3",textColor:"#131A1F"},{backgroundColor:"#17566F",textColor:"#EAC891"},{backgroundColor:"#131A1F",textColor:"#AF3D41"}]},{name:"Hot Paprika",colors:[{backgroundColor:"#B53324",textColor:"#F5E2CE"},{backgroundColor:"#E5A657",textColor:"#B53324"},{backgroundColor:"#DFBC94",textColor:"#B53324"},{backgroundColor:"#F5E2CE",textColor:"#B53324"}]},{name:"Terracota",colors:[{backgroundColor:"#D08224",textColor:"#EAC891"},{backgroundColor:"#AE431E",textColor:"#EAC891"},{backgroundColor:"#8A8635",textColor:"#EAC891"},{backgroundColor:"#EAC891",textColor:"#AE431E"}]},{name:"Shell Beige",colors:[{backgroundColor:"#F4C9AC",textColor:"#756C4F"},{backgroundColor:"#EF9E70",textColor:"#756C4F"},{backgroundColor:"#AE6455",textColor:"#F4C9AC"},{backgroundColor:"#756C4F",textColor:"#F4C9AC"}]},{name:"Lady Diana",colors:[{backgroundColor:"#EAD7E4",textColor:"#818B70"},{backgroundColor:"#FCC5DB",textColor:"#818B70"},{backgroundColor:"#FF8486",textColor:"#FFFFFF"},{backgroundColor:"#818B70",textColor:"#EAD7E4"}]},{name:"Ocean Deep",colors:[{backgroundColor:"#4E635E",textColor:"#E2E0CB"},{backgroundColor:"#E2E0CB",textColor:"#4E635E"},{backgroundColor:"#A8B49E",textColor:"#4E635E"},{backgroundColor:"#818C78",textColor:"#E2E0CB"}]},{name:"Almond",colors:[{backgroundColor:"#D6BD98",textColor:"#1A3636"},{backgroundColor:"#677D6A",textColor:"#D6BD98"},{backgroundColor:"#40534C",textColor:"#D6BD98"},{backgroundColor:"#1A3636",textColor:"#D6BD98"}]}],highlightSelecting:!1,highlightSelectedLineIndices:[],highlightLines:[],highlightSentence:"",overlayScrollTop:0,textareaScrollTop:0,showHighlightHint:!1,highlightModeEnabled:!1,longPressTimer:null,touchStartLine:null,imageList:[],maxImageCount:9,publishMode:"normal",isOriginal:!1,showModeSelector:!1,isDiscussion:!1,parentPostId:"",parentPostInfo:null,canPublish:!1,selectedTags:[],customTag:"",showTagSelector:!1,currentCategoryIndex:0,allExistingTags:[],matchedTags:[],showMatchedTags:!1,isPublished:!1,isTemporaryHide:!1,isNavigating:!1,author:"",keyboardHeight:0,tagCategories:[{name:"å†…å®¹ä¸»é¢˜",icon:"ğŸ“",tags:["çˆ±æƒ…","äº²æƒ…","å‹æƒ…","ä¹¡æ„","æ€å¿µ","å­¤ç‹¬","å’ç‰©","å±±æ°´","ç”°å›­","å­£èŠ‚","æ˜¥å¤©","å¤æ—¥","ç§‹é£","å†¬é›ª","äººç”Ÿ","ç†æƒ³","å“²ç†","æ—¶é—´","é’æ˜¥","æˆé•¿","ç”Ÿæ­»","æ€€å¤","å’å²","è¾¹å¡","æˆ˜äº‰","çˆ±å›½","åŸå¸‚","ä¹¡æ‘","ç”Ÿæ´»","æ—…è¡Œ","é¥®é£Ÿ","åŠ³åŠ¨"]},{name:"æƒ…æ„ŸåŸºè°ƒ",icon:"ğŸ’­",tags:["æ²»æ„ˆ","æ¸©æš–","æµªæ¼«","å”¯ç¾","æ‚²ä¼¤","ä¼¤æ„Ÿ","æƒ†æ€…","å¯‚å¯","è±ªæ”¾","è±è¾¾","æ¿€æ˜‚","çƒ­è¡€","å©‰çº¦","ç»†è…»","æ¸…æ–°","å®é™","åŠ±å¿—","é¼“èˆ","åšå®š","å……æ»¡å¸Œæœ›","è®½åˆº","æ‰¹åˆ¤","æ·±æ²‰","å¼•äººæ·±æ€"]},{name:"å½¢å¼ä½“è£",icon:"ğŸ“–",tags:["å¤ä½“è¯—","è¿‘ä½“è¯—","äº”è¨€","ä¸ƒè¨€","ç»å¥","å¾‹è¯—","è¯","æ›²","ä¹åºœ","éªšä½“","ç°ä»£è¯—","è‡ªç”±è¯—","æ•£æ–‡è¯—","åå››è¡Œè¯—","å™äº‹è¯—","ä¿³å¥","çŸ­æ­Œ","å²è¯—","é•¿è¯—","çŸ­è¯—","å¾®å‹è¯—","ä¸‰è¡Œè¯—"]},{name:"æ„è±¡å…ƒç´ ",icon:"ğŸŒ™",tags:["æœˆäº®","æ˜Ÿæ˜Ÿ","å¤ªé˜³","å®‡å®™","é“¶æ²³","é£","é›¨","é›ª","äº‘","é›¾","æ²³æµ","å¤§æµ·","å±±å³°","æ£®æ—","èŠ±","è‰","æ ‘","éº¦ç”°","è½å¶","æ¢…","å…°","ç«¹","èŠ","é¸Ÿ","é©¬","è‰","é±¼","è´è¶","é…’","å‰‘","ç´","ç¯","èˆ¹","é•œå­","çº¢è‰²","ç™½è‰²","è“è‰²","é‡‘è‰²"]},{name:"é£æ ¼æµæ´¾",icon:"ğŸ­",tags:["å”è¯—","å®‹è¯","å…ƒæ›²","å…ˆç§¦","ä¸¤æ±‰","é­æ™‹","å»ºå®‰é£éª¨","æœ¦èƒ§è¯—","æ–°æœˆæ´¾","æµªæ¼«ä¸»ä¹‰","ç°å®ä¸»ä¹‰","è±¡å¾ä¸»ä¹‰","ç°ä»£ä¸»ä¹‰","æ„è±¡æ´¾","å®æ‰çš„ä¸€ä»£","ä¸­æ–‡è¯—","è‹±æ–‡è¯—","æ—¥æ–‡è¯—","æ³•æ–‡è¯—","ç¿»è¯‘è¯—","ä¸­å›½","è‹±å›½","ç¾å›½","æ—¥æœ¬","ä¿„ç½—æ–¯"]},{name:"åœºæ™¯ç”¨é€”",icon:"ğŸ¯",tags:["æ™šå®‰è¯—","æ—©å®‰é—®å€™","èŠ‚æ—¥ç¥ç¦","æ˜¥èŠ‚","ä¸­ç§‹","æƒ…äººèŠ‚","æ¯•ä¸šå­£","å©šç¤¼è‡´è¾","æ—…è¡Œé€”ä¸­","é›¨å¤©è¯»è¯—","å†™ç»™å­©å­","è‡´æ•¬æ¯äº²","é€ç»™æœ‹å‹","é€‚åˆæ‘˜æŠ„","å¯ä»¥ç”¨ä½œç­¾å"]}],tags:[]}},computed:{splitContentLines:function(){var n=this.content||"";return n.split(/\r?\n/)}},onLoad:function(n){this.setData({selectedBackgroundColor:this.selectedBackgroundColor||"#a4c4bd",selectedTextColor:this.selectedTextColor||"#333333",selectedColorCombination:this.selectedColorCombination||{backgroundColor:"#a4c4bd",textColor:"#333333"},showColorPicker:!1,colorPickerStep:"palette",selectedPalette:null,highlightSentence:this.highlightSentence||""}),this.loadAllExistingTags(),"edit"===n.mode?this.loadEditingDraft():this.loadDraft(),this.setDefaultPublishMode(),this.preventPageScroll()},onShow:function(){this.preventPageScroll()},onUnload:function(){if(!this.isPublished&&this.hasContent())try{this.clearDraft&&this.clearDraft()}catch(n){console.error("æ¸…é™¤è‰ç¨¿å¤±è´¥:",n)}},onHide:function(){this.setData({isTemporaryHide:!1})},onBackPress:function(){return!this.isNavigating&&(!(this.isPublished||!this.hasContent())&&(this.exitWithOptionalSave(),!0))},methods:(o={onPageTap:function(){uni.hideKeyboard()},noop:function(){},hasContent:function(){var n=this.imageList&&this.imageList.length>0,r=this.content&&this.content.trim();return n||r},setDefaultPublishMode:function(){var n=getCurrentPages();if(n.length>1){var r=n[n.length-2],t=r.route;console.log("æ¥æºé¡µé¢è·¯ç”±:",t),"pages/poem-square/poem-square"===t?(this.setData({publishMode:"poem",isOriginal:!0,maxImageCount:1,imageList:this.imageList.length>1?[this.imageList[0]]:this.imageList}),console.log("è®¾ç½®ä¸ºåŸåˆ›è¯—æ­Œæ¨¡å¼")):"pages/mountain/mountain"===t&&(this.setData({publishMode:"poem",isOriginal:!1,maxImageCount:1,imageList:this.imageList.length>1?[this.imageList[0]]:this.imageList}),console.log("è®¾ç½®ä¸ºéåŸåˆ›è¯—æ­Œæ¨¡å¼"))}},callCloudFunction:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c(n,r,Object.assign({pageTag:"add",context:this,requireAuth:!0},t))},loadAllExistingTags:function(){var n=this;this.callCloudFunction("getAllTags").then((function(r){r.result&&r.result.success&&(n.allExistingTags=r.result.tags)})).catch((function(n){console.error("Failed to load all existing tags:",n)}))},exitWithOptionalSave:function(){var n=this;if(this.hasContent())uni.showModal({title:"ä¿å­˜è‰ç¨¿",content:"æ£€æµ‹åˆ°ä½ æœ‰æœªå®Œæˆçš„å†…å®¹ï¼Œæ˜¯å¦ä¿å­˜ä¸ºè‰ç¨¿ï¼Ÿ",confirmText:"ä¿å­˜",cancelText:"ä¸ä¿å­˜",success:function(r){if(n.setData({isNavigating:!0}),r.confirm)try{var t=n.saveDraft&&n.saveDraft();t&&"function"===typeof t.finally?t.finally((function(){try{uni.navigateBack()}catch(n){}})):setTimeout((function(){try{uni.navigateBack()}catch(n){}}),500)}catch(e){try{uni.navigateBack()}catch(o){}}else{try{n.clearDraft&&n.clearDraft()}catch(e){}try{uni.navigateBack()}catch(o){}}}});else{this.setData({isNavigating:!0});try{uni.navigateBack()}catch(r){}}},uploadFile:function(n,r){var e=this;return new Promise((function(o,a){var i=t("fd09"),s=i.getCurrentPlatform,l=i.getCloudFunctionMethod,c=(s(),l());"tcb"===c?e.uploadFileViaCloudFunction(n,r).then(o).catch(a):"wx-cloud"===c?wx.cloud&&wx.cloud.uploadFile?wx.cloud.uploadFile({cloudPath:n,filePath:r,success:function(n){o(n)},fail:function(n){a(n)}}):a(new Error("å¾®ä¿¡äº‘å¼€å‘ä¸å¯ç”¨")):a(new Error("ä¸æ”¯æŒçš„äº‘å‡½æ•°è°ƒç”¨æ–¹å¼: ".concat(c)))}))},uploadFileViaCloudFunction:function(n,r){var t=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(o,a){if("undefined"!==typeof window&&"undefined"!==typeof FileReader)fetch(r).then((function(n){if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return n.blob()})).then((function(i){var s=new FileReader;s.onload=function(){var i=s.result;if(!i||"string"!==typeof i)return console.error("âŒ [Addé¡µé¢] FileReaderç»“æœæ— æ•ˆ:",i),void a(new Error("æ–‡ä»¶è¯»å–å¤±è´¥"));var l=i.split(",")[1];console.log("ğŸ” [Addé¡µé¢] æ–‡ä»¶è½¬æ¢ä¸ºbase64å®Œæˆï¼Œé•¿åº¦: ".concat(l.length)),l.length>6291456&&console.warn("âš ï¸ [Addé¡µé¢] base64æ–‡ä»¶è¿‡å¤§ï¼Œå°è¯•è¿›ä¸€æ­¥å‹ç¼©"),t.callCloudFunction("upload",{cloudPath:n,fileContent:l}).then((function(n){console.log("ä¸Šä¼ äº‘å‡½æ•°è¿”å›ç»“æœ:",n),n&&n.result&&n.result.success?o({fileID:n.result.fileID,cloudPath:n.result.cloudPath}):a(new Error("ä¸Šä¼ äº‘å‡½æ•°è¿”å›æ ¼å¼é”™è¯¯"))})).catch((function(i){var s;e<2&&("request:fail"===i.errMsg||null!==(s=i.message)&&void 0!==s&&s.includes("fail"))?(console.log("ğŸ”„ [Addé¡µé¢] ä¸Šä¼ å¤±è´¥ï¼Œå‡†å¤‡é‡è¯• (".concat(e+1,"/2)")),setTimeout((function(){t.uploadFileViaCloudFunction(n,r,e+1).then(o).catch(a)}),1e3*(e+1))):a(i)}))},s.onerror=function(){console.error("âŒ [Addé¡µé¢] FileReaderè¯»å–å¤±è´¥"),a(new Error("æ–‡ä»¶è¯»å–å¤±è´¥"))},s.readAsDataURL(i)})).catch((function(n){console.error("âŒ [Addé¡µé¢] è·å–æ–‡ä»¶blobå¤±è´¥:",n),a(new Error("è·å–æ–‡ä»¶å¤±è´¥: "+n.message))}));else{console.log("ğŸ” [Addé¡µé¢] Appç¯å¢ƒä½¿ç”¨uni-app APIè¯»å–æ–‡ä»¶");try{var i=uni.getFileSystemManager();i&&i.readFile?i.readFile({filePath:r,encoding:"base64",success:function(r){var e=r.data;console.log("ğŸ” [Addé¡µé¢] æ–‡ä»¶è¯»å–å®Œæˆï¼Œbase64é•¿åº¦: ".concat(e.length)),t.callCloudFunction("upload",{cloudPath:n,fileContent:e}).then((function(n){console.log("Appç¯å¢ƒä¸Šä¼ äº‘å‡½æ•°è¿”å›ç»“æœ:",n),n&&n.result&&n.result.success?o({fileID:n.result.fileID,cloudPath:n.result.cloudPath}):a(new Error("ä¸Šä¼ äº‘å‡½æ•°è¿”å›æ ¼å¼é”™è¯¯"))})).catch(a)},fail:function(n){console.error("âŒ [Addé¡µé¢] æ–‡ä»¶è¯»å–å¤±è´¥ï¼š",n),a(new Error("æ–‡ä»¶è¯»å–å¤±è´¥: ".concat(n.errMsg||"æœªçŸ¥é”™è¯¯")))}}):(console.error("âŒ [Addé¡µé¢] getFileSystemManagerä¸å¯ç”¨"),a(new Error("æ–‡ä»¶ç³»ç»ŸAPIä¸å¯ç”¨")))}catch(s){console.error("âŒ [Addé¡µé¢] æ–‡ä»¶ç³»ç»ŸAPIè°ƒç”¨å¤±è´¥:",s),a(new Error("æ–‡ä»¶ç³»ç»ŸAPIä¸å¯ç”¨"))}}}))},preventPageScroll:function(){try{uni.pageScrollTo({scrollTop:0,duration:0})}catch(n){console.log("CatchClause",n),console.log("CatchClause",n),console.log("preventPageScroll error:",n)}},onContentInput:function(n){var r=n.detail,t=r.value;r.cursor;this.setData({content:t}),this.checkCanPublish()},onContainerTap:function(n){console.log("å®¹å™¨è¢«ç‚¹å‡»ï¼Œå‡†å¤‡éšè—é”®ç›˜"),setTimeout((function(){uni.hideKeyboard()}),100)},onTextareaTap:function(n){console.log("textareaè¢«ç‚¹å‡»ï¼Œåº”è¯¥è·å–ç„¦ç‚¹")},onTextareaFocus:function(n){console.log("textareaè·å¾—ç„¦ç‚¹ï¼Œé”®ç›˜é«˜åº¦:",n.detail.height);var r=n.detail.height;if(!r||0===r){var t=uni.getSystemInfoSync();console.log("ç³»ç»Ÿä¿¡æ¯:",t),r=Math.min(.4*t.windowHeight,300),console.log("ä½¿ç”¨é»˜è®¤é”®ç›˜é«˜åº¦:",r)}this.setData({keyboardHeight:r})},onTextareaBlur:function(){console.log("textareaå¤±å»ç„¦ç‚¹"),this.setData({keyboardHeight:0})},checkCanPublish:function(){var n=this.imageList.length>0,r=this.content&&this.content.trim(),t=n||r;if("poem"===this.publishMode&&!this.isOriginal){var e=this.author&&this.author.trim();t=t&&e}this.setData({canPublish:t})},switchMode:function(){this.setData({showModeSelector:!this.showModeSelector,showTagSelector:!1})},selectPublishMode:function(n){var r=n.currentTarget.dataset.mode,t=n.currentTarget.dataset.original,e="discussion"===r;this.setData({publishMode:r,isOriginal:null!==t&&t,isDiscussion:e,showModeSelector:!1}),"poem"===r?this.setData({maxImageCount:1,imageList:this.imageList.length>1?[this.imageList[0]]:this.imageList}):this.setData({maxImageCount:9}),console.log("ã€Addã€‘é€‰æ‹©å‘å¸ƒæ¨¡å¼:",{mode:r,isOriginal:t,isDiscussion:e}),this.checkCanPublish()},handleChooseImage:function(){var n=this,r=this,t=this.maxImageCount-this.imageList.length;t<=0?uni.showToast({title:"æœ€å¤šåªèƒ½ä¸Šä¼ 9å¼ å›¾ç‰‡",icon:"none"}):(this.setData({isTemporaryHide:!0}),uni.chooseImage({count:t,sizeType:["original"],sourceType:["album","camera"],success:function(n){uni.showLoading({title:"å¤„ç†ä¸­..."}),console.log("wx.chooseImage è¿”å›çš„è¯¦ç»†æ–‡ä»¶ä¿¡æ¯:",n.tempFiles);var t=n.tempFiles.map((function(n){var t=n.path,e=n.size;if(console.log("è·å–åˆ°å›¾ç‰‡ ".concat(t," çš„åŸå§‹å¤§å°:"),(e/1024).toFixed(2),"KB"),e>5242880)throw new Error("å›¾ç‰‡æ–‡ä»¶è¿‡å¤§ (".concat((e/1024/1024).toFixed(2),"MB)ï¼Œè¯·é€‰æ‹©å°äº5MBçš„å›¾ç‰‡"));var o=e>2e5,a={originalPath:t,imageSize:e,needCompression:o,previewUrl:t,compressedPath:t,originalUrl:"",compressedUrl:""};return o?r.compressImage(a):Promise.resolve(a)}));Promise.all(t).then((function(n){uni.hideLoading(),r.updateImageList(n),r.checkCanPublish()})).catch((function(n){uni.hideLoading(),console.error("å›¾ç‰‡å¤„ç†å¤±è´¥:",n);var r="å›¾ç‰‡å¤„ç†å¤±è´¥";n.message&&n.message.includes("å›¾ç‰‡æ–‡ä»¶è¿‡å¤§")?r=n.message:n.message&&(r="å›¾ç‰‡å¤„ç†å¤±è´¥: ".concat(n.message)),uni.showModal({title:"é”™è¯¯",content:r,showCancel:!1,confirmText:"ç¡®å®š"})}))},fail:function(r){console.log("é€‰æ‹©å›¾ç‰‡å–æ¶ˆæˆ–å¤±è´¥:",r),n.setData({isTemporaryHide:!1})}}))},compressImage:function(n){var r=this;return new Promise((function(e){var o=t("fd09"),a=o.getCurrentPlatform,i=a();"h5"===i?(console.log("ğŸ” [Addé¡µé¢] H5ç¯å¢ƒä½¿ç”¨Canvaså‹ç¼©å›¾ç‰‡"),r.compressImageWithCanvas(n).then(e).catch((function(){console.log("Canvaså‹ç¼©å¤±è´¥ï¼Œä½¿ç”¨åŸå›¾"),n.compressedPath=n.originalPath,n.previewUrl=n.originalPath,e(n)}))):(console.log("ğŸ” [Addé¡µé¢] å°ç¨‹åº/Appç¯å¢ƒä½¿ç”¨uni.compressImage"),uni.compressImage({src:n.originalPath,quality:80,success:function(r){n.compressedPath=r.tempFilePath,n.previewUrl=r.tempFilePath,e(n)},fail:function(r){console.log("å‹ç¼©å¤±è´¥ï¼Œä½¿ç”¨åŸå›¾:",r),n.compressedPath=n.originalPath,n.previewUrl=n.originalPath,e(n)}}))}))},compressImageWithCanvas:function(n){return new Promise((function(r,t){var e=new Image;e.crossOrigin="anonymous",e.onload=function(){try{var o=document.createElement("canvas"),a=o.getContext("2d"),i=e.width,s=e.height;i>s?i>1200&&(s=1200*s/i,i=1200):s>1200&&(i=1200*i/s,s=1200),o.width=i,o.height=s,a.drawImage(e,0,0,i,s),o.toBlob((function(e){if(e){var o=URL.createObjectURL(e);n.compressedPath=o,n.previewUrl=o,console.log("âœ… [Addé¡µé¢] Canvaså‹ç¼©æˆåŠŸï¼Œæ–°å°ºå¯¸:",i,"x",s),r(n)}else t(new Error("Canvaså‹ç¼©å¤±è´¥"))}),"image/jpeg",.6)}catch(l){console.error("Canvaså‹ç¼©è¿‡ç¨‹å‡ºé”™:",l),t(l)}},e.onerror=function(){t(new Error("å›¾ç‰‡åŠ è½½å¤±è´¥"))},e.src=n.originalPath}))},updateImageList:function(n){var r=this.imageList,t=r.concat(n);this.setData({imageList:t})},removeImage:function(n){var r=n.currentTarget.dataset.index,t=this.imageList;t.splice(r,1),this.setData({imageList:t}),this.checkCanPublish()},submitPost:function(){this.goToPreview()},checkDuplicatePoem:function(){var n=this;uni.showLoading({title:"æ£€æŸ¥ä¸­..."}),this.callCloudFunction("checkDuplicatePoem",{title:this.title.trim(),author:this.author.trim(),isOriginal:this.isOriginal}).then((function(r){uni.hideLoading(),console.log("é‡å¤æ£€æŸ¥ç»“æœ:",r.result),r.result.success?r.result.isDuplicate?n.showDuplicateConfirmDialog(r.result.duplicateCount):n.proceedWithPublish():uni.showToast({title:"æ£€æŸ¥å¤±è´¥ï¼Œè¯·é‡è¯•",icon:"none"})})).catch((function(n){uni.hideLoading(),console.error("æ£€æŸ¥é‡å¤å¤±è´¥:",n),uni.showToast({title:"ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•",icon:"none"})}))},showDuplicateConfirmDialog:function(n){var r=this;uni.showModal({title:"å‘ç°é‡å¤è¯—æ­Œ",content:"å·²æœ‰ ".concat(n," ç¯‡ç›¸åŒçš„è¯—æ­Œå‘å¸ƒï¼Œæ˜¯å¦ç»§ç»­å‘å¸ƒï¼Ÿ"),confirmText:"ç»§ç»­å‘å¸ƒ",cancelText:"å–æ¶ˆå‘å¸ƒ",success:function(n){n.confirm?r.proceedWithPublish():console.log("ç”¨æˆ·å–æ¶ˆå‘å¸ƒé‡å¤è¯—æ­Œ")}})},proceedWithPublish:function(){uni.showLoading({title:"å‘å¸ƒä¸­..."}),this.imageList.length>0?this.uploadImagesAndSubmit():this.submitTextOnly()},uploadImagesAndSubmit:function(){var n=this,r=(new Date).getTime(),t=this.imageList;console.log("å¼€å§‹ä¸Šä¼ å›¾ç‰‡:",t.length+"å¼ ");var e=t.map((function(t,e){return new Promise((function(o,a){var i=r+e,l="post_images/".concat(i,"_compressed.jpg");n.uploadFile(l,t.compressedPath).then((function(r){console.log("å‹ç¼©å›¾ä¸Šä¼ æˆåŠŸ:",r),console.log("å‹ç¼©å›¾fileID:",r.fileID),console.log("å‹ç¼©å›¾fileIDç±»å‹:",(0,s.default)(r.fileID));var e=r.fileID;if(t.needCompression){var a="post_images/".concat(i,"_original.jpg");return n.uploadFile(a,t.originalPath).then((function(n){console.log("åŸå›¾ä¸Šä¼ æˆåŠŸ:",n),console.log("åŸå›¾fileID:",n.fileID),console.log("åŸå›¾fileIDç±»å‹:",(0,s.default)(n.fileID)),o({compressedUrl:e,originalUrl:n.fileID})}))}o({compressedUrl:e,originalUrl:e})})).catch(a)}))}));Promise.all(e).then((function(r){return console.log("æ‰€æœ‰å›¾ç‰‡ä¸Šä¼ å®Œæˆ:",r),n.submitWithContentCheck(r)})).catch((function(r){console.error("ä¸Šä¼ å¤±è´¥:",r),n.publishFail(r)}))},submitToDatabase:function(n){var r=this;console.log("æäº¤åˆ°æ•°æ®åº“:",{uploadResults:n,title:this.title,content:this.content,publishMode:this.publishMode,isOriginal:this.isOriginal}),console.log("uploadResultsè¯¦ç»†ä¿¡æ¯:",n),console.log("uploadResultsé•¿åº¦:",n.length);var t=n.map((function(n){return n.compressedUrl})),e=n.map((function(n){return n.originalUrl}));console.log("å¤„ç†åçš„å›¾ç‰‡URLs:",{imageUrls:t,originalImageUrls:e,imageUrlsType:t.map((function(n){return(0,s.default)(n)})),originalImageUrlsType:e.map((function(n){return(0,s.default)(n)})),imageUrlsValues:t.map((function(n){return n?n.substring(0,50)+"...":"null/undefined"}))});var o="";if("poem"===this.publishMode)if(this.isOriginal){var a=uni.getStorageSync("userInfo"),i=a?a.nickName:"åŒ¿åç”¨æˆ·";o=this.author&&this.author.trim()?this.author.trim():i}else o=this.author&&this.author.trim()?this.author.trim():"";var l={title:this.title,content:this.content,createTime:new Date,votes:0,isPoem:"poem"===this.publishMode,isOriginal:this.isOriginal,author:o,tags:this.selectedTags||[],backgroundColor:this.selectedBackgroundColor||"",highlightSentence:this.highlightSentence||""};t.length>0&&(l.imageUrl=t[0],l.imageUrls=t,l.originalImageUrl=e[0],l.originalImageUrls=e,"poem"===this.publishMode&&t.length>0&&(l.poemBgImage=t[0]));var c=t.filter((function(n){return n})),d=e.filter((function(n){return n}));console.log("ä¼ é€’ç»™äº‘å‡½æ•°çš„å‚æ•°:",{fileIDs:c,originalFileIDs:d,fileIDsLength:c.length,originalFileIDsLength:d.length});var g={title:this.title,content:this.content,fileIDs:c,originalFileIDs:d,publishMode:this.publishMode,isOriginal:this.isOriginal,author:this.author,tags:this.selectedTags||[],isDiscussion:this.isDiscussion||!1,parentPostId:this.parentPostId||"",backgroundColor:this.selectedBackgroundColor||"",textColor:this.selectedTextColor||"#000000"};return this.callCloudFunction("contentCheck",g).then((function(n){var t;(console.log("æ•°æ®åº“æäº¤æˆåŠŸ:",n),n&&n.result&&0===n.result.code)?r.publishSuccess({_id:n.result.postId}):(console.error("äº‘å‡½æ•°è¿”å›å¤±è´¥:",n),r.publishFail(new Error((null===(t=n.result)||void 0===t?void 0:t.msg)||"äº‘å‡½æ•°è¿”å›å¤±è´¥")))})).catch((function(n){console.error("æ•°æ®åº“æäº¤å¤±è´¥:",n),r.publishFail(n)}))},submitTextOnly:function(){this.submitWithContentCheck([])},submitWithContentCheck:function(n){return console.log("å¼€å§‹å†…å®¹å®¡æ ¸å’Œæäº¤:",{uploadResults:n,title:this.title,content:this.content,publishMode:this.publishMode,isOriginal:this.isOriginal,author:this.author,tags:this.selectedTags}),console.log("âš ï¸ å†…å®¹å®¡æ ¸å·²æš‚æ—¶å…³é—­ï¼Œç›´æ¥å‘å¸ƒå†…å®¹"),this.submitToDatabase(n)},publishSuccess:function(n){uni.hideLoading(),uni.showToast({title:"å‘å¸ƒæˆåŠŸï¼"});try{uni.setStorageSync("shouldRefreshIndex",!0),uni.setStorageSync("shouldRefreshProfile",!0),uni.setStorageSync("shouldRefreshPoem",!0),uni.setStorageSync("shouldRefreshMountain",!0);var r=getApp(),e=r&&r.globalData&&r.globalData.openid;try{var o=t("80fa"),a=o.emitPostCreated;a(e)}catch(i){e&&uni.$emit&&uni.$emit("post-created",{userId:e})}}catch(i){console.log("CatchClause",i),console.log("CatchClause",i)}this.setData({isPublished:!0}),this.clearDraft(),uni.navigateBack({delta:1})},publishFail:function(n){uni.hideLoading(),console.error("[å‘å¸ƒæµç¨‹] å¤±è´¥ï¼š",n);var r="å‘å¸ƒå¤±è´¥";n&&n.message?r="å‘å¸ƒå¤±è´¥: ".concat(n.message):n&&n.errMsg&&(r="å‘å¸ƒå¤±è´¥: ".concat(n.errMsg)),uni.showModal({title:"å‘å¸ƒå¤±è´¥",content:r,showCancel:!1,confirmText:"ç¡®å®š"})},onImageError:function(n){uni.showToast({title:"å›¾ç‰‡åŠ è½½å¤±è´¥",icon:"none"}),console.error("å›¾ç‰‡åŠ è½½å¤±è´¥",n)},toggleTagSelector:function(){this.setData({showTagSelector:!this.showTagSelector})},goBack:function(){this.setData({isNavigating:!0});var n=getCurrentPages();console.log("å½“å‰é¡µé¢æ ˆé•¿åº¦:",n.length),n.length>1?uni.navigateBack({delta:1,fail:function(){console.log("navigateBackå¤±è´¥ï¼Œå°è¯•switchTab"),uni.switchTab({url:"/pages/index/index"})}}):(console.log("æ²¡æœ‰ä¸Šä¸€é¡µï¼Œè·³è½¬åˆ°é¦–é¡µ"),uni.switchTab({url:"/pages/index/index"}))},goToPreview:function(){var n={_id:"preview-temp-id",content:this.content||"",title:"",textColor:this.selectedTextColor||"#000000",backgroundColor:this.selectedBackgroundColor||"#ffffff",isExpanded:!0,likeIcon:"/static/images/seed.png",imageUrls:(this.imageList||[]).map((function(n){return n.previewUrl})),highlightLines:this.highlightLines||[],editData:{selectedBackgroundColor:this.selectedBackgroundColor,selectedTextColor:this.selectedTextColor,selectedColorCombination:this.selectedColorCombination,imageList:this.imageList,publishMode:this.publishMode,isOriginal:this.isOriginal,selectedTags:this.selectedTags,author:this.author,highlightLines:this.highlightLines,highlightSelectedLineIndices:this.highlightSelectedLineIndices}};console.log("ã€Addã€‘å‡†å¤‡è·³è½¬åˆ°é¢„è§ˆï¼Œæ•°æ®:",n),console.log("ã€Addã€‘publishMode:",this.publishMode),console.log("ã€Addã€‘editData.publishMode:",n.editData.publishMode);try{uni.setStorageSync("preview_post",n)}catch(r){}uni.navigateTo({url:"/pages/preview/preview",success:function(t){try{t.eventChannel.emit("preview-data",{post:n})}catch(r){}}})},onSelectColor:function(){this.setData({showColorPicker:!this.showColorPicker,colorPickerStep:"palette"})},selectPalette:function(n){var r=n.currentTarget.dataset.index,t=this.colorPalettes[r];this.setData({selectedPalette:t,colorPickerStep:"colors"})},goBackToPalette:function(){this.setData({colorPickerStep:"palette",selectedPalette:null})},getPoemLine:function(n){return this.poemLines[n]||"ç¤ºä¾‹æ–‡å­—"},isColorSelected:function(n){return this.selectedColorCombination&&this.selectedColorCombination.backgroundColor===n.backgroundColor&&this.selectedColorCombination.textColor===n.textColor},onToggleHighlight:function(){this.setData({highlightSelecting:!this.highlightSelecting}),this.highlightSelecting&&uni.showToast({title:"ç‚¹å‡»è¦é«˜äº®çš„è¡Œ",icon:"none"})},toggleHighlightMode:function(){var n=this;this.setData({highlightModeEnabled:!this.highlightModeEnabled,showHighlightHint:!this.highlightModeEnabled}),this.highlightModeEnabled&&setTimeout((function(){n.setData({showHighlightHint:!1})}),3e3)},hideHighlightHint:function(){this.setData({showHighlightHint:!1})},onTextareaScroll:function(n){this.setData({textareaScrollTop:n.detail.scrollTop,overlayScrollTop:n.detail.scrollTop})},onOverlayTouchStart:function(n){n.preventDefault()},onOverlayTouchEnd:function(n){n.preventDefault()},onOverlayTouchMove:function(n){n.preventDefault()},onLineTouchStart:function(n){n.preventDefault(),n.stopPropagation();var r=Number(n.currentTarget.dataset.index);this.touchStartLine=r},onLineTouchEnd:function(n){n.preventDefault(),n.stopPropagation();var r=Number(n.currentTarget.dataset.index);if(this.touchStartLine===r){this.toggleLineHighlight(r);try{uni.vibrateShort()}catch(n){}}this.touchStartLine=null},toggleLineHighlight:function(n){var r=this.highlightSelectedLineIndices.slice(),t=r.indexOf(n);if(t>=0)r.splice(t,1);else{if(r.length>=3)return void uni.showToast({title:"æœ€å¤šåªèƒ½é€‰æ‹©ä¸‰è¡Œé«˜å…‰",icon:"none"});r.push(n)}r.sort((function(n,r){return n-r})),this.setData({highlightSelectedLineIndices:r}),this.updateHighlightLines()},updateHighlightLines:function(){var n=(this.content||"").split(/\r?\n/),r=this.highlightSelectedLineIndices.map((function(r){return n[r]||""})).filter(Boolean);this.setData({highlightLines:r,highlightSentence:r[0]||""})},toggleHighlightLine:function(n){var r=Number(n.currentTarget.dataset.index),t=this.highlightSelectedLineIndices.slice(),e=t.indexOf(r);if(e>=0)t.splice(e,1);else{if(t.length>=3)return void uni.showToast({title:"æœ€å¤šåªèƒ½é€‰æ‹©ä¸‰è¡Œé«˜å…‰",icon:"none"});t.push(r)}t.sort((function(n,r){return n-r})),this.setData({highlightSelectedLineIndices:t})},finishHighlight:function(){var n=(this.content||"").split(/\r?\n/),r=this.highlightSelectedLineIndices.map((function(r){return n[r]||""})).filter(Boolean);this.setData({highlightLines:r,highlightSentence:r[0]||"",highlightSelecting:!1}),uni.showToast({title:"å·²è®¾ç½®é«˜å…‰",icon:"success"})},clearHighlight:function(){this.setData({highlightSelectedLineIndices:[],highlightLines:[],highlightSentence:""})},chooseColor:function(n){var r=n.currentTarget.dataset.color;this.setData({selectedBackgroundColor:r.backgroundColor,selectedTextColor:r.textColor,selectedColorCombination:r,showColorPicker:!1,colorPickerStep:"palette"}),uni.showToast({title:"å·²è®¾ç½®é¢œè‰²æ­é…",icon:"success"})}},(0,a.default)(o,"noop",(function(){})),(0,a.default)(o,"switchCategory",(function(n){var r=n.currentTarget.dataset.index;this.setData({currentCategoryIndex:r})})),(0,a.default)(o,"selectTag",(function(n){var r=n.currentTarget.dataset.tag,t=this.selectedTags;if(t.includes(r)){var e=t.indexOf(r);t.splice(e,1)}else{if(!(t.length<5))return void uni.showToast({title:"æœ€å¤šé€‰æ‹©5ä¸ªæ ‡ç­¾",icon:"none"});t.push(r)}this.setData({selectedTags:t})})),(0,a.default)(o,"onCustomTagInput",(function(n){var r=n.detail.value;console.log("ã€æ ‡ç­¾è¾“å…¥ã€‘ç”¨æˆ·è¾“å…¥:",r),this.setData({customTag:r}),this.searchMatchingTags(r)})),(0,a.default)(o,"searchMatchingTags",(function(n){var r=this;if(console.log("ã€æ ‡ç­¾æœç´¢ã€‘æœç´¢å‚æ•°:",{inputValue:n,inputLength:n?n.length:0,allExistingTags:this.allExistingTags,selectedTags:this.selectedTags}),!n||n.length<2)return console.log("ã€æ ‡ç­¾æœç´¢ã€‘è¾“å…¥é•¿åº¦ä¸è¶³ï¼Œæ¸…ç©ºåŒ¹é…ç»“æœ"),void this.setData({matchedTags:[],showMatchedTags:!1});var t=this.allExistingTags;console.log("ã€æ ‡ç­¾æœç´¢ã€‘å¼€å§‹åŒ¹é…ï¼Œæ€»æ ‡ç­¾æ•°:",t.length);var e=t.filter((function(t){var e=t.toLowerCase().includes(n.toLowerCase()),o=!r.selectedTags.includes(t);return console.log('ã€æ ‡ç­¾æœç´¢ã€‘æ£€æŸ¥æ ‡ç­¾"'.concat(t,'": åŒ¹é…=').concat(e,", æœªé€‰ä¸­=").concat(o)),e&&o})).slice(0,5);console.log("ã€æ ‡ç­¾æœç´¢ã€‘åŒ¹é…ç»“æœ:",e),this.setData({matchedTags:e,showMatchedTags:e.length>0}),console.log("ã€æ ‡ç­¾æœç´¢ã€‘è®¾ç½®çŠ¶æ€:",{matchedTags:e,showMatchedTags:e.length>0})})),(0,a.default)(o,"selectMatchedTag",(function(n){var r=n.currentTarget.dataset.tag;if(this.selectedTags.includes(r))uni.showToast({title:"æ ‡ç­¾å·²å­˜åœ¨",icon:"none"});else if(this.selectedTags.length>=5)uni.showToast({title:"æœ€å¤šé€‰æ‹©5ä¸ªæ ‡ç­¾",icon:"none"});else{var t=[].concat((0,i.default)(this.selectedTags),[r]);this.setData({selectedTags:t,customTag:"",showMatchedTags:!1,matchedTags:[]})}})),(0,a.default)(o,"addCustomTag",(function(){var n=this.customTag&&this.customTag.trim();n?this.selectedTags.includes(n)?uni.showToast({title:"æ ‡ç­¾å·²å­˜åœ¨",icon:"none"}):this.selectedTags.length>=5?uni.showToast({title:"æœ€å¤šé€‰æ‹©5ä¸ªæ ‡ç­¾",icon:"none"}):(this.selectedTags.push(n),this.setData({selectedTags:this.selectedTags,customTag:"",showMatchedTags:!1,matchedTags:[]})):uni.showToast({title:"è¯·è¾“å…¥æ ‡ç­¾å†…å®¹",icon:"none"})})),(0,a.default)(o,"saveDraft",(function(){var n=this;return new Promise((function(r){var t={title:n.title,content:n.content,imageList:n.imageList,publishMode:n.publishMode,isOriginal:n.isOriginal,selectedTags:n.selectedTags,customTag:n.customTag,author:n.author,selectedBackgroundColor:n.selectedBackgroundColor,selectedTextColor:n.selectedTextColor,selectedColorCombination:n.selectedColorCombination,saveTime:new Date};uni.showLoading({title:"ä¿å­˜ä¸­..."}),n.callCloudFunction("getMyProfileData",{action:"saveDraft",draftData:t}).then((function(t){uni.hideLoading(),t.result&&t.result.success?(uni.showToast({title:"è‰ç¨¿å·²ä¿å­˜",icon:"success"}),n.clearDraft(),r(!0)):(console.error("ä¿å­˜è‰ç¨¿å¤±è´¥:",t.result),uni.showToast({title:t.result&&t.result.message?t.result.message:"ä¿å­˜è‰ç¨¿å¤±è´¥",icon:"none"}),r(!1))})).catch((function(n){uni.hideLoading(),console.error("ä¿å­˜è‰ç¨¿å¤±è´¥:",n),uni.showToast({title:"ç½‘ç»œé”™è¯¯ï¼Œä¿å­˜å¤±è´¥",icon:"none"}),r(!1)}))}))})),(0,a.default)(o,"removeTag",(function(n){var r=n.currentTarget.dataset.tag,t=this.selectedTags.filter((function(n){return n!==r}));this.setData({selectedTags:t})})),(0,a.default)(o,"loadDraft",(function(){var n=this;try{var r=uni.getStorageSync("publish_draft");if(r&&r.saveTime){var t=(new Date).getTime(),e=t-r.saveTime;e<6048e5?uni.showModal({title:"æ¢å¤è‰ç¨¿",content:"æ£€æµ‹åˆ°æ‚¨æœ‰æœªå®Œæˆçš„è‰ç¨¿ï¼Œæ˜¯å¦æ¢å¤ï¼Ÿ",confirmText:"æ¢å¤",cancelText:"é‡æ–°å¼€å§‹",success:function(t){t.confirm?(n.setData({title:r.title||"",content:r.content||"",imageList:r.imageList||[],publishMode:r.publishMode||"normal",isOriginal:r.isOriginal||!1,selectedTags:r.selectedTags||[],customTag:r.customTag||"",author:r.author||"",selectedBackgroundColor:r.selectedBackgroundColor||"#a4c4bd",selectedTextColor:r.selectedTextColor||"#333333",selectedColorCombination:r.selectedColorCombination||{backgroundColor:"#a4c4bd",textColor:"#333333"},maxImageCount:"poem"===r.publishMode?1:9}),n.checkCanPublish(),uni.showToast({title:"è‰ç¨¿å·²æ¢å¤",icon:"success"})):n.clearDraft()}}):this.clearDraft()}}catch(o){console.log("CatchClause",o),console.log("CatchClause",o),console.error("åŠ è½½è‰ç¨¿å¤±è´¥:",o)}})),(0,a.default)(o,"loadEditingDraft",(function(){try{var n=uni.getStorageSync("editing_draft");n&&(this.setData({title:n.title||"",content:n.content||"",imageList:n.imageList||[],publishMode:n.publishMode||"normal",isOriginal:n.isOriginal||!1,selectedTags:n.selectedTags||[],customTag:n.customTag||"",author:n.author||"",selectedBackgroundColor:n.selectedBackgroundColor||"#a4c4bd",selectedTextColor:n.selectedTextColor||"#333333",selectedColorCombination:n.selectedColorCombination||{backgroundColor:"#a4c4bd",textColor:"#333333"},maxImageCount:"poem"===n.publishMode?1:9}),this.checkCanPublish(),uni.showToast({title:"è‰ç¨¿å·²åŠ è½½",icon:"success"}),uni.removeStorageSync("editing_draft"))}catch(r){console.log("CatchClause",r),console.log("CatchClause",r),console.error("åŠ è½½ç¼–è¾‘è‰ç¨¿å¤±è´¥:",r),uni.showToast({title:"åŠ è½½è‰ç¨¿å¤±è´¥",icon:"none"})}})),(0,a.default)(o,"clearDraft",(function(){try{uni.removeStorageSync("publish_draft")}catch(n){console.log("CatchClause",n),console.log("CatchClause",n),console.error("æ¸…é™¤è‰ç¨¿å¤±è´¥:",n)}})),o)};r.default=d},"77d6":function(n,r,t){"use strict";t.d(r,"b",(function(){return e})),t.d(r,"c",(function(){return o})),t.d(r,"a",(function(){}));var e=function(){var n=this,r=n.$createElement,t=n._self._c||r;return t("v-uni-view",{staticClass:"container",on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.onPageTap.apply(void 0,arguments)}}},[n.imageList.length>0?t("v-uni-view",{staticClass:"image-section"},[t("v-uni-scroll-view",{staticClass:"image-preview-scroll",attrs:{"scroll-x":!0,"show-scrollbar":!1}},[t("v-uni-view",{staticClass:"image-preview-container"},[n._l(n.imageList,(function(r,e){return t("v-uni-view",{key:e,staticClass:"image-preview-item"},[t("v-uni-image",{staticClass:"preview-image",attrs:{src:r.previewUrl,mode:"aspectFill"},on:{error:function(r){arguments[0]=r=n.$handleEvent(r),n.onImageError.apply(void 0,arguments)}}}),t("v-uni-view",{staticClass:"image-remove-btn",attrs:{"data-index":e},on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.removeImage.apply(void 0,arguments)}}},[n._v("Ã—")])],1)})),n.imageList.length<n.maxImageCount?t("v-uni-view",{staticClass:"add-image-btn",on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.handleChooseImage.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"add-icon"},[n._v("+")])],1):n._e()],2)],1)],1):n._e(),n.showColorPicker?t("v-uni-view",{staticClass:"color-picker-mask",on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.showColorPicker=!1}}},[t("v-uni-view",{staticClass:"color-picker",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.noop.apply(void 0,arguments)}}},["palette"===n.colorPickerStep?t("v-uni-view",{staticClass:"color-palette-step"},[t("v-uni-view",{staticClass:"color-picker-title"},[n._v("é€‰æ‹©è‰²å¡")]),t("v-uni-scroll-view",{staticClass:"palette-scroll",attrs:{"scroll-y":!0}},[t("v-uni-view",{staticClass:"palette-grid"},n._l(n.colorPalettes,(function(r,e){return t("v-uni-view",{key:e,staticClass:"palette-card",style:{backgroundColor:r.colors[0].backgroundColor},attrs:{"data-index":e},on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.selectPalette.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"palette-name",style:{color:r.colors[0].textColor}},[n._v(n._s(r.name))]),t("v-uni-view",{staticClass:"palette-preview"},n._l(r.colors.slice(0,3),(function(n,r){return t("v-uni-view",{key:r,staticClass:"mini-color",style:{backgroundColor:n.backgroundColor}})})),1)],1)})),1)],1)],1):n._e(),"colors"===n.colorPickerStep?t("v-uni-view",{staticClass:"color-detail-step"},[t("v-uni-view",{staticClass:"color-picker-header"},[t("v-uni-view",{staticClass:"color-picker-title"},[n._v(n._s(n.selectedPalette.name))]),t("v-uni-view",{staticClass:"color-picker-back-btn",on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.goBackToPalette.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"color-picker-back-icon",attrs:{src:"/static/images/back_to_edit.png",mode:"aspectFit"}})],1)],1),t("v-uni-scroll-view",{staticClass:"colors-scroll",attrs:{"scroll-y":!0}},[t("v-uni-view",{staticClass:"colors-grid"},n._l(n.selectedPalette.colors,(function(r,e){return t("v-uni-view",{key:e,staticClass:"color-option",style:{backgroundColor:r.backgroundColor,color:r.textColor},attrs:{"data-color":r},on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.chooseColor.apply(void 0,arguments)}}},[t("v-uni-text",{staticClass:"color-text"},[n._v(n._s(n.getPoemLine(e)))]),n.isColorSelected(r)?t("v-uni-text",{staticClass:"color-check"},[n._v("âœ“")]):n._e()],1)})),1)],1)],1):n._e()],1)],1):n._e(),t("v-uni-view",{staticClass:"content-section"},[t("v-uni-view",{staticClass:"main-input-area",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.noop.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"content-input-wrapper",attrs:{"data-highlight-mode":n.highlightModeEnabled}},[t("v-uni-textarea",{staticClass:"content-textarea",attrs:{placeholder:"æ­¤åˆ»ä½ æƒ³è¦åˆ†äº«...",maxlength:"1500",value:n.content,"show-confirm-bar":!1,"adjust-position":!1},on:{input:function(r){arguments[0]=r=n.$handleEvent(r),n.onContentInput.apply(void 0,arguments)},focus:function(r){arguments[0]=r=n.$handleEvent(r),n.onTextareaFocus.apply(void 0,arguments)},blur:function(r){arguments[0]=r=n.$handleEvent(r),n.onTextareaBlur.apply(void 0,arguments)},scroll:function(r){arguments[0]=r=n.$handleEvent(r),n.onTextareaScroll.apply(void 0,arguments)},click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.onTextareaTap.apply(void 0,arguments)}}}),n.content.length>1400?t("v-uni-view",{staticClass:"char-count"},[n._v(n._s(n.content.length)+"/1500")]):n._e(),n.content.trim()&&n.highlightModeEnabled?t("v-uni-view",{staticClass:"highlight-select-overlay",attrs:{catchtouchmove:"true"},on:{touchstart:function(r){arguments[0]=r=n.$handleEvent(r),n.onOverlayTouchStart.apply(void 0,arguments)},touchend:function(r){arguments[0]=r=n.$handleEvent(r),n.onOverlayTouchEnd.apply(void 0,arguments)},touchmove:function(r){arguments[0]=r=n.$handleEvent(r),n.onOverlayTouchMove.apply(void 0,arguments)}}},[t("v-uni-scroll-view",{staticClass:"overlay-scroll",attrs:{"scroll-y":!0,"scroll-top":n.overlayScrollTop}},[t("v-uni-view",{staticClass:"overlay-content"},n._l(n.splitContentLines,(function(r,e){return t("v-uni-view",{key:"overlay-line-"+e,class:"overlay-line "+(n.highlightSelectedLineIndices.includes(e)?"highlighted":""),style:"top: "+48*e+"rpx;",attrs:{"data-index":e},on:{touchstart:function(r){arguments[0]=r=n.$handleEvent(r),n.onLineTouchStart.apply(void 0,arguments)},touchend:function(r){arguments[0]=r=n.$handleEvent(r),n.onLineTouchEnd.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"overlay-line-content"},[n._v(n._s(r||" "))])],1)})),1)],1)],1):n._e(),n.showHighlightHint?t("v-uni-view",{staticClass:"highlight-hint"},[t("v-uni-text",{staticClass:"hint-text"},[n._v("ç‚¹å‡»æ–‡å­—å³å¯é€‰æ‹©é«˜å…‰è¡Œ")])],1):n._e(),n.highlightSelecting?t("v-uni-view",{staticClass:"highlight-overlay",attrs:{catchtouchmove:"true"},on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.noop.apply(void 0,arguments)}}},[t("v-uni-scroll-view",{staticClass:"highlight-scroll",attrs:{"scroll-y":!0}},n._l(n.splitContentLines,(function(r,e){return t("v-uni-view",{key:e,class:"hl-line "+(n.highlightSelectedLineIndices.includes(e)?"selected":""),attrs:{"data-index":e},on:{click:function(r){r.stopPropagation(),r.preventDefault(),arguments[0]=r=n.$handleEvent(r),n.toggleHighlightLine.apply(void 0,arguments)}}},[t("v-uni-text",{staticClass:"hl-text"},[n._v(n._s(r.length?r:" "))])],1)})),1),t("v-uni-view",{staticClass:"hl-actions"},[t("v-uni-button",{staticClass:"hl-done",attrs:{size:"mini"},on:{click:function(r){r.stopPropagation(),r.preventDefault(),arguments[0]=r=n.$handleEvent(r),n.finishHighlight.apply(void 0,arguments)}}},[n._v("å®Œæˆ")]),t("v-uni-button",{staticClass:"hl-clear",attrs:{size:"mini"},on:{click:function(r){r.stopPropagation(),r.preventDefault(),arguments[0]=r=n.$handleEvent(r),n.clearHighlight.apply(void 0,arguments)}}},[n._v("æ¸…é™¤")])],1)],1):n._e()],1),t("v-uni-view",{staticClass:"side-toolbar"},[t("v-uni-view",{staticClass:"side-tool-btn",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.toggleTagSelector.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"side-tool-icon",attrs:{src:"/static/images/add_tag.png",mode:"aspectFit"}})],1),t("v-uni-view",{staticClass:"side-tool-btn",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.handleChooseImage.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"side-tool-icon",attrs:{src:"/static/images/add_image.png",mode:"aspectFit"}})],1),t("v-uni-view",{staticClass:"side-tool-btn",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.switchMode.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"side-tool-icon",attrs:{src:"/static/images/switch_publish_mode.png",mode:"aspectFit"}})],1),t("v-uni-view",{staticClass:"side-tool-btn",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.toggleHighlightMode.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"side-tool-icon",attrs:{src:"/static/images/select_highlight.png",mode:"aspectFit"}})],1),t("v-uni-view",{staticClass:"side-tool-btn",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.onSelectColor.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"side-tool-icon",attrs:{src:"/static/images/select_color.png",mode:"aspectFit"}})],1)],1)],1),t("v-uni-view",{staticClass:"back-btn",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.goBack.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"back-icon",attrs:{src:"/static/images/back_to_edit.png",mode:"aspectFit"}})],1),t("v-uni-view",{staticClass:"floating-action-btn",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.goToPreview.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"fab-icon",attrs:{src:"/static/images/enter_key.png",mode:"aspectFit"}})],1)],1),n.showModeSelector?t("v-uni-view",{staticClass:"mode-selector-mask",on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.showModeSelector=!1}}},[t("v-uni-view",{staticClass:"mode-selector",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.noop.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"mode-title"},[n._v("é€‰æ‹©å‘å¸ƒæ¨¡å¼")]),t("v-uni-view",{staticClass:"mode-list"},[t("v-uni-view",{staticClass:"mode-option",attrs:{"data-mode":"poem","data-original":!0},on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.selectPublishMode.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"mode-text"},[n._v("åŸåˆ›è¯—æ­Œ")]),"poem"===n.publishMode&&n.isOriginal?t("v-uni-view",{staticClass:"mode-check"},[n._v("âœ“")]):n._e()],1),t("v-uni-view",{staticClass:"mode-option",attrs:{"data-mode":"poem","data-original":!1},on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.selectPublishMode.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"mode-text"},[n._v("éåŸåˆ›è¯—æ­Œ")]),"poem"!==n.publishMode||n.isOriginal?n._e():t("v-uni-view",{staticClass:"mode-check"},[n._v("âœ“")])],1),t("v-uni-view",{staticClass:"mode-option",attrs:{"data-mode":"normal","data-original":null},on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.selectPublishMode.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"mode-text"},[n._v("æ™®é€šå¸–å­")]),"normal"===n.publishMode?t("v-uni-view",{staticClass:"mode-check"},[n._v("âœ“")]):n._e()],1),t("v-uni-view",{staticClass:"mode-option",attrs:{"data-mode":"discussion","data-original":null},on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.selectPublishMode.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"mode-text"},[n._v("è®¨è®ºå¸–å­")]),"discussion"===n.publishMode?t("v-uni-view",{staticClass:"mode-check"},[n._v("âœ“")]):n._e()],1)],1)],1)],1):n._e(),n.showTagSelector?t("v-uni-view",{staticClass:"tag-selector-mask",on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.showTagSelector=!1}}},[t("v-uni-view",{staticClass:"tag-selector",on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.noop.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"category-selector"},[t("v-uni-scroll-view",{staticClass:"category-scroll",attrs:{"scroll-x":!0,"show-scrollbar":!1}},[t("v-uni-view",{staticClass:"category-list"},n._l(n.tagCategories,(function(r,e){return t("v-uni-view",{key:e,class:"category-item "+(n.currentCategoryIndex===e?"active":""),attrs:{"data-index":e},on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.switchCategory.apply(void 0,arguments)}}},[t("v-uni-text",{staticClass:"category-icon"},[n._v(n._s(r.icon))]),t("v-uni-text",{staticClass:"category-name"},[n._v(n._s(r.name))])],1)})),1)],1)],1),t("v-uni-view",{staticClass:"current-category-tags"},n._l(n.tagCategories[n.currentCategoryIndex].tags,(function(r,e){return t("v-uni-view",{key:e,class:"preset-tag "+(n.selectedTags.includes(r)?"selected":""),attrs:{"data-tag":r},on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.selectTag.apply(void 0,arguments)}}},[n._v(n._s(r))])})),1),t("v-uni-view",{staticClass:"custom-tag-input"},[t("v-uni-input",{attrs:{placeholder:"è¾“å…¥è‡ªå®šä¹‰æ ‡ç­¾",value:n.customTag,maxlength:"10"},on:{input:function(r){arguments[0]=r=n.$handleEvent(r),n.onCustomTagInput.apply(void 0,arguments)},click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.noop.apply(void 0,arguments)}}}),t("v-uni-button",{attrs:{size:"mini"},on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.addCustomTag.apply(void 0,arguments)}}},[n._v("æ·»åŠ ")])],1),n.showMatchedTags&&n.matchedTags.length>0?t("v-uni-view",{staticClass:"matched-tags"},[t("v-uni-view",{staticClass:"matched-tags-title"},[n._v("æ¨èæ ‡ç­¾ï¼š")]),t("v-uni-view",{staticClass:"matched-tags-list"},n._l(n.matchedTags,(function(r,e){return t("v-uni-view",{key:e,staticClass:"matched-tag",attrs:{"data-tag":r},on:{click:function(r){r.stopPropagation(),arguments[0]=r=n.$handleEvent(r),n.selectMatchedTag.apply(void 0,arguments)}}},[n._v(n._s(r))])})),1)],1):n._e()],1)],1):n._e()],1)},o=[]},"979d":function(n,r,t){"use strict";t.r(r);var e=t("6e3f"),o=t.n(e);for(var a in e)["default"].indexOf(a)<0&&function(n){t.d(r,n,(function(){return e[n]}))}(a);r["default"]=o.a},db51:function(n,r,t){"use strict";var e=t("1407"),o=t.n(e);o.a}}]);