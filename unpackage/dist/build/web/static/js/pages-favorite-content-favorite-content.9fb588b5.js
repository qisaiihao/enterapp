(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-favorite-content-favorite-content"],{"07ea":function(r,n,e){"use strict";e.r(n);var t=e("8e1d"),a=e.n(t);for(var o in t)["default"].indexOf(o)<0&&function(r){e.d(n,r,(function(){return t[r]}))}(o);n["default"]=a.a},2774:function(r,n,e){e("01a2"),e("e39c"),e("bf0f"),e("844d"),e("18f7"),e("de6c"),e("08eb"),r.exports=function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)},r.exports.__esModule=!0,r.exports["default"]=r.exports},4550:function(r,n,e){e("6a54");var t=e("8bcf");r.exports=function(r,n,e){return n=t(n),n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r},r.exports.__esModule=!0,r.exports["default"]=r.exports},"469e":function(r,n,e){var t=e("bacb");t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[r.i,t,""]]),t.locals&&(r.exports=t.locals);var a=e("967d").default;a("7e17671e",t,!0,{sourceMap:!1,shadowMode:!1})},5014:function(r,n,e){e("dc8a"),e("01a2"),e("8f71"),e("bf0f"),e("9a2c"),e("aa9c"),e("2797"),e("a644"),e("a03a"),e("6a54");var t=e("4550");function a(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.push.apply(e,t)}return e}r.exports=function(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?a(Object(e),!0).forEach((function(n){t(r,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))}))}return r},r.exports.__esModule=!0,r.exports["default"]=r.exports},"56c9":function(r,n,e){e("9e15"),e("884b"),e("01a2"),e("e39c"),e("bf0f"),e("7a76"),e("c9b5"),e("64aa");var t=e("bdbb")["default"];r.exports=function(r,n){if("object"!==t(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var a=e.call(r,n||"default");if("object"!==t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(r)},r.exports.__esModule=!0,r.exports["default"]=r.exports},6268:function(r,n,e){"use strict";e.d(n,"b",(function(){return t})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){}));var t=function(){var r=this.$createElement,n=this._self._c||r;return n("v-uni-view",{staticClass:"container"},[this.favorites.length>0&&!this.hasMore&&!this.isLoading?n("v-uni-view",{staticClass:"no-more"},[n("v-uni-text",[this._v("没有更多了")])],1):this._e()],1)},a=[]},"73da":function(r,n,e){"use strict";e.r(n);var t=e("6268"),a=e("07ea");for(var o in a)["default"].indexOf(o)<0&&function(r){e.d(n,r,(function(){return a[r]}))}(o);e("cbea");var i=e("828b"),s=Object(i["a"])(a["default"],t["b"],t["c"],!1,null,"7c77c87c",null,!1,t["a"],void 0);n["default"]=s.exports},"73e1":function(r,n,e){"use strict";var t=e("29d8");r.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(t)},"795c":function(r,n,e){"use strict";var t=e("8bdb"),a=e("db04").start,o=e("73e1");t({target:"String",proto:!0,forced:o},{padStart:function(r){return a(this,r,arguments.length>1?arguments[1]:void 0)}})},"81f6":function(r,n,e){var t=e("5014").default,a=e("d189").default,o=e("4cf1").default;e("8f71"),e("bf0f"),e("aa9c"),e("fd3c");var i=e("962f"),s=i.formatRelativeTime,c=["createTime","postCreateTime","publishTime","createdAt","updateTime"],l=function(r){return r?Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean):[]},u=function(r){var n,e=o(c);try{for(e.s();!(n=e.n()).done;){var t=n.value;if(r[t])return{key:t,value:r[t]}}}catch(a){e.e(a)}finally{e.f()}return null},f=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.withTime,o=void 0===e||e,i=l(r.imageUrls);0===i.length&&i.push.apply(i,a(l(r.imageUrl)));var c=l(r.originalImageUrls);0===c.length&&c.push.apply(c,a(l(r.originalImageUrl))),0===c.length&&i.length>0&&c.push.apply(c,a(i));var f=t(t({},r),{},{imageUrls:i,originalImageUrls:c,authorName:r.authorName||"匿名用户",authorAvatar:"string"===typeof r.authorAvatar?r.authorAvatar:""});if(!f.imageStyle&&i.length>0&&(f.imageStyle="height: 0; padding-bottom: 75%;"),o)if(r.formattedCreateTime)f.formattedCreateTime=r.formattedCreateTime;else{var d=u(r);d&&(f.formattedCreateTime=s(d.value))}return f};r.exports={normalizePost:f,normalizePostList:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Array.isArray(r)?r.map((function(r){return f(r,n)})):[]}}},"8bcf":function(r,n,e){var t=e("bdbb")["default"],a=e("56c9");r.exports=function(r){var n=a(r,"string");return"symbol"===t(n)?n:String(n)},r.exports.__esModule=!0,r.exports["default"]=r.exports},"8e1d":function(r,n,e){"use strict";e("6a54");var t=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("7a76"),e("c9b5"),e("bf0f"),e("18f7"),e("de6c"),e("fd3c"),e("c223"),e("8f71");var a=t(e("2634")),o=t(e("9b1b")),i=t(e("2fdc")),s=e("962f"),c=s.formatRelativeTime,l=e("edf3"),u=l.previewImage,f=e("38db"),d=f.cloudCall,g=e("9c8b"),p=e("d6e5"),h=e("81f6"),m=h.normalizePostList,v={mixins:[p,g],data:function(){return{folderId:"",folderName:"",favorites:[],pageSize:10,swiperHeights:{},imageClampHeights:{},imgindex:0,img:""}},onLoad:function(r){var n=r.folderId,e=r.folderName||"";if(n){var t=e;try{t=decodeURIComponent(e||"")}catch(a){console.log("CatchClause",a),console.log("CatchClause",a),t=e}this.setData({folderId:n,folderName:t,favorites:[]}),uni.setNavigationBarTitle({title:t||"收藏夹"}),this.initPagination(this.loadFavorites,{pageSize:this.pageSize})}else uni.showToast({title:"参数错误：收藏夹ID为空",icon:"none"})},onShow:function(){},methods:{callCloudFunction:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d(r,n,Object.assign({pageTag:"favorite-content",context:this,requireAuth:!0},e))},loadFavorites:function(r){var n=this;return(0,i.default)((0,a.default)().mark((function e(){var t,i,s,c,l,u,f,d,g,p,h;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.page,i=r.isRefresh,n.folderId){e.next=6;break}throw s=new Error("参数错误：收藏夹ID为空"),s.__toastShown=!0,uni.showToast({title:"参数错误：收藏夹ID为空",icon:"none"}),s;case 6:return i&&n.setData({favorites:[],swiperHeights:{},imageClampHeights:{}}),c=t*n.pageSize,1e4,l=null,u=new Promise((function(r,n){l=setTimeout((function(){var r=new Error("加载超时，请重试");r.code="LOAD_TIMEOUT",r.__toastShown=!0,uni.showToast({title:"加载超时，请重试",icon:"none"}),n(r)}),1e4)})),e.prev=11,e.next=14,Promise.race([n.callCloudFunction("getMyProfileData",{action:"getFavoritesByFolder",folderId:n.folderId,skip:c,limit:n.pageSize}),u]);case 14:if(f=e.sent,l&&clearTimeout(l),console.log("云函数调用成功，返回结果:",f),f.result&&!0===f.result.success){e.next=23;break}throw d=f.result&&f.result.message||"加载失败",uni.showToast({title:d,icon:"none"}),g=new Error(d),g.__toastShown=!0,g;case 23:return p=m(f.result.favorites||[]).map((function(r,e){var t=(0,o.default)({},r);return!t.formattedCreateTime&&t.createTime&&(t.formattedCreateTime=n.formatTime(t.createTime)),t.postCreateTime&&!t.formattedPostCreateTime&&(t.formattedPostCreateTime=n.formatTime(t.postCreateTime)),t.favoriteTime&&!t.formattedFavoriteTime&&(t.formattedFavoriteTime=n.formatTime(t.favoriteTime)),!t.postTitle&&t.title&&(t.postTitle=t.title),!t.postContent&&t.content&&(t.postContent=t.content),!t.postImageUrls&&t.imageUrls&&(t.postImageUrls=t.imageUrls),!t.postOriginalImageUrls&&t.originalImageUrls&&(t.postOriginalImageUrls=t.originalImageUrls),!t.postAuthorAvatar&&t.authorAvatar&&(t.postAuthorAvatar=t.authorAvatar),!t.postAuthorName&&t.authorName&&(t.postAuthorName=t.authorName),!t.imageStyle&&t.imageUrls&&t.imageUrls.length>0&&(t.imageStyle="height: 0; padding-bottom: 75%;"),console.log("【收藏夹】帖子".concat(e,"图片数据:"),{postId:t._id,postTitle:t.title||t.postTitle,imageUrls:t.imageUrls,originalImageUrls:t.originalImageUrls,hasImageUrls:!!(t.imageUrls&&t.imageUrls.length>0)}),t})),h=0===t||i?p:n.favorites.concat(p),n.setData({favorites:h}),e.abrupt("return",{list:p,hasMore:p.length===n.pageSize});case 29:throw e.prev=29,e.t0=e["catch"](11),l&&clearTimeout(l),console.error("加载收藏数据失败:",e.t0),e.t0&&e.t0.__toastShown||uni.showToast({title:"网络错误",icon:"none"}),e.t0;case 35:return e.prev=35,l&&clearTimeout(l),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[11,29,35,38]])})))()},manualLoad:function(){this.folderId?this.refresh():uni.showToast({title:"收藏夹ID为空",icon:"none"})},onFavoriteTap:function(r){var n=r.currentTarget.dataset.postId;uni.navigateTo({url:"/pages/post-detail/post-detail?id=".concat(n)})},onFavoriteLongPress:function(r){var n=this,e=r.currentTarget.dataset.favoriteId,t=r.currentTarget.dataset.postTitle;uni.showActionSheet({itemList:["取消收藏"],success:function(r){0===r.tapIndex&&n.removeFavorite(e,t)}})},removeFavorite:function(r){var n=this,e=r.currentTarget.dataset.favoriteId,t=r.currentTarget.dataset.index,a=this.favorites[t],o=a?a.postTitle:"未知标题";uni.showModal({title:"确认取消收藏",content:'确定要取消收藏"'.concat(o,'"吗？'),success:function(r){r.confirm&&(uni.showLoading({title:"处理中..."}),n.callCloudFunction("getMyProfileData",{action:"removeFromFavorite",favoriteId:e}).then((function(r){if(uni.hideLoading(),r.result&&r.result.success){uni.showToast({title:"取消收藏成功"});var t=n.favorites.filter((function(r){return r._id!==e}));n.setData({favorites:t})}else uni.showToast({title:r.result.message||"操作失败",icon:"none"})})).catch((function(r){uni.hideLoading(),console.error("取消收藏失败:",r),uni.showToast({title:"网络错误",icon:"none"})})))}})},onImagePreview:function(r){return u(r,{fallbackToast:!1})},handlePreview:function(r){var n=u(r,{fallbackToast:!1});return n||uni.showToast({title:"图片加载失败",icon:"none"}),n},onImageError:function(r){console.error("【收藏夹】图片加载失败",r);var n=r.detail.src;console.error("【收藏夹】失败的图片URL:",n);var e=r.currentTarget.dataset,t=e.postindex,a=e.imgindex;if(void 0!==t&&void 0!==a){var o=this.favorites[t];console.error("【收藏夹】图片加载失败的上下文:",{postId:o?o._id:"unknown",postTitle:o?o.title:"unknown",imageIndex:a,imageUrl:n,allImageUrls:o?o.imageUrls:"unknown"})}console.error("【收藏夹】图片加载失败详情:",{error:r.detail,src:n,dataset:r.currentTarget.dataset})},formatTime:function(r){return c(r)},onAvatarError:function(r){console.error("头像加载失败:",r);var n=r.currentTarget.dataset.postindex;if(void 0!==n){var e=this.favorites;e[n]&&(e[n].postAuthorAvatar="/images/avatar.png",this.setData({favorites:e}))}},onAvatarLoad:function(r){},navigateToUserProfile:function(r){var n=r.currentTarget.dataset.userId;n&&uni.navigateTo({url:"/pages/user-profile/user-profile?userId=".concat(n)})},onTagClick:function(r){var n=r.currentTarget.dataset.tag;n&&uni.navigateTo({url:"/pages/search/search?keyword=".concat(encodeURIComponent(n))})}}};n.default=v},9376:function(r,n,e){e("7a76"),e("c9b5"),r.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},r.exports.__esModule=!0,r.exports["default"]=r.exports},"962f":function(r,n,e){e("795c"),e("64aa"),e("5c47"),e("a1c1"),e("c223"),e("f7a5");var t=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(r).padStart(n,"0")},a=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss",e=r instanceof Date?r:new Date(r);if(Number.isNaN(e.getTime()))return"";var a={yyyy:String(e.getFullYear()),MM:t(e.getMonth()+1),dd:t(e.getDate()),HH:t(e.getHours()),mm:t(e.getMinutes()),ss:t(e.getSeconds())};return n.replace(/yyyy|MM|dd|HH|mm|ss/g,(function(r){return a[r]}))};r.exports={formatTimeAgo:function(r){var n=new Date,e=new Date(r),t=n.getTime()-e.getTime(),a=Math.floor(t/1e3),o=Math.floor(a/60),i=Math.floor(o/60),s=Math.floor(i/24);if(s>=7){var c=e.getFullYear(),l=("0"+(e.getMonth()+1)).slice(-2),u=("0"+e.getDate()).slice(-2);return"".concat(c,"-").concat(l,"-").concat(u)}return s>=1?"".concat(s,"天前"):i>=1?"".concat(i,"小时前"):o>=1?"".concat(o,"分钟前"):"刚刚"},formatRelativeTime:function(r){var n=Date.now(),e=r instanceof Date?r.getTime():new Date(r).getTime();if(Number.isNaN(e))return"";var t=n-e,o=Math.floor(Math.abs(t)/1e3),i=t>=0?"前":"后";if(o<60)return"刚刚";var s=Math.floor(o/60);if(s<60)return"".concat(s,"分钟").concat(i);var c=Math.floor(s/60);if(c<24)return"".concat(c,"小时").concat(i);var l=Math.floor(c/24);return l<7?"".concat(l,"天").concat(i):a(e,"yyyy-MM-dd")},formatDate:a}},"9c8b":function(r,n,e){var t=e("bdbb").default,a=e("4550").default;e("5c47"),e("a1c1"),e("c223"),e("64aa");function o(r){return"undefined"===typeof uni||"function"!==typeof uni.createSelectorQuery?null:uni.createSelectorQuery().in(r)}function i(r,n,e){if("function"!==typeof r.setData){for(var o=n.replace(/\[(.*?)\]/g,".$1").replace(/^\./,""),i=o.split("."),s=r,c=0;c<i.length-1;c+=1){var l=i[c];s[l]&&"object"===t(s[l])||(s[l]={}),s=s[l]}s[i[i.length-1]]=e}else r.setData(a({},n,e))}r.exports={data:function(){return{__galleryImageMeta:{}}},created:function(){"undefined"===typeof this.swiperHeights&&(this.swiperHeights={}),"undefined"===typeof this.imageClampHeights&&(this.imageClampHeights={}),"undefined"===typeof this.imageCache&&(this.imageCache={})},methods:{onImageLoad:function(r){if(r&&r.detail&&r.currentTarget){var n=r.currentTarget.dataset||{},e=r.detail,t=e.width,a=e.height;if(t&&a){var o=function(r){return void 0!==r.galleryKey&&null!==r.galleryKey?r.galleryKey:void 0!==r.postindex&&null!==r.postindex?r.postindex:void 0!==r.postIndex&&null!==r.postIndex?r.postIndex:void 0!==r.index&&null!==r.index?r.index:void 0!==r.postid&&null!==r.postid?r.postid:void 0!==r.postId&&null!==r.postId?r.postId:void 0!==r.imgindex?"gallery-".concat(r.imgindex):"gallery"}(n),i="undefined"!==typeof n.imgindex?n.imgindex:n.imgIndex||0,s=n.type||n.imageType||"single",c="".concat(o,"_").concat(i);this.__galleryImageMeta&&(this.__galleryImageMeta[c]={width:t,height:a}),this.imageCache&&(this.imageCache[c]={width:t,height:a});var l=Number(this.galleryMinImageRatio)||9/16,u=Number(this.galleryMaxImageRatio)||16/9;if("multi"===s&&0===Number(i)){var f=n.swiperSelector||n.gallerySelector||"#swiper-".concat(o);this.__updateSwiperHeight({key:o,selector:f,originalWidth:t,originalHeight:a,minRatio:l,maxRatio:u})}if("single"===s){var d=n.singleSelector||n.imageSelector||"#single-image-".concat(o);this.__updateClampHeight({key:o,selector:d,originalWidth:t,originalHeight:a,minRatio:l})}}}},__updateSwiperHeight:function(r){var n=this,e=r.key,t=r.selector,a=r.originalWidth,s=r.originalHeight,c=r.minRatio,l=r.maxRatio;if(t){var u=o(this);u&&u.select(t).boundingClientRect((function(r){if(r&&r.width){var t=a/s,o=function(r,n,e){return r>e?e:r<n?n:r}(t,c,l),u=r.width/o;i(n,"swiperHeights[".concat(e,"]"),u)}})).exec()}},__updateClampHeight:function(r){var n=this,e=r.key,t=r.selector,a=r.originalWidth,s=r.originalHeight,c=r.minRatio,l=a/s;if(!(l>=c)){var u=t?o(this):null;if(t&&u)u.select(t).boundingClientRect((function(r){if(r&&r.width){var t=r.width/c;i(n,"imageClampHeights.".concat(e),t)}})).exec();else if(this.galleryFallbackWidth){var f=this.galleryFallbackWidth/c;i(this,"imageClampHeights.".concat(e),f)}}}}}},bacb:function(r,n,e){var t=e("c86c");n=t(!1),n.push([r.i,'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* pages/favorite-content/favorite-content.wxss */.container[data-v-7c77c87c]{padding:%?20?%;background-color:#f7f8fa;min-height:100vh}.loading-container[data-v-7c77c87c]{display:flex;justify-content:center;align-items:center;height:%?400?%;background-color:#fff;border-radius:%?16?%;margin:%?30?%;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.05)}.loading-text[data-v-7c77c87c]{color:#999;font-size:%?28?%}.favorites-container[data-v-7c77c87c]{margin:0 %?30?% %?30?% %?30?%}\r\n/* 新增：帖子项包装器样式 */.post-item-wrapper[data-v-7c77c87c]{background:#fff;border-radius:%?16?%;margin-bottom:%?20?%;padding:%?30?%;box-shadow:0 %?2?% %?12?% rgba(0,0,0,.06)}\r\n/* 原创帖子特殊样式 */.post-item-wrapper.original-post[data-v-7c77c87c]{border:%?3?% solid #ebc88d;box-shadow:0 %?4?% %?20?% rgba(235,200,141,.3),0 %?2?% %?12?% rgba(0,0,0,.06);position:relative}\r\n/* 原创帖子光影效果 */.post-item-wrapper.original-post[data-v-7c77c87c]::before{content:"";position:absolute;top:%?-2?%;left:%?-2?%;right:%?-2?%;bottom:%?-2?%;background:linear-gradient(45deg,#ebc88d,#f4d03f,#ebc88d);border-radius:%?18?%;z-index:-1;opacity:.6;-webkit-filter:blur(%?8?%);filter:blur(%?8?%)}\r\n/* 新增：内容导航器样式 */.post-content-navigator[data-v-7c77c87c]{display:block;background:transparent}\r\n/* 新增：导航器点击效果 */.navigator-hover[data-v-7c77c87c]{opacity:.8}\r\n/* 作者信息样式 */.author-info-outside[data-v-7c77c87c]{display:flex;align-items:center;margin-bottom:%?20?%}.author-avatar[data-v-7c77c87c]{width:%?60?%;height:%?60?%;border-radius:50%;margin-right:%?15?%;background-color:#f5f5f5}.author-name[data-v-7c77c87c]{font-size:%?28?%;color:#333;font-weight:500}.post-title[data-v-7c77c87c]{font-size:%?32?%;font-weight:700;color:#333;margin-bottom:%?10?%;line-height:1.4;word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\r\n/* 诗歌作者信息 */.poem-author[data-v-7c77c87c]{font-size:%?26?%;color:#666;font-style:italic;margin-bottom:%?10?%}.post-content[data-v-7c77c87c]{font-size:%?26?%;color:#666;line-height:1.5;margin-bottom:%?15?%;word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;white-space:pre-wrap}\r\n/* 图片容器样式 - 与首页保持一致 */.image-container-wrapper[data-v-7c77c87c]{position:relative;width:100%;background-color:#f0f0f0; /* 占位时的背景色，很重要 */overflow:hidden;border-radius:8px; /* 可以加个圆角，让占位块更好看 */margin:%?20?% 0 /* 图片和下方内容的间距 */}\r\n/* 让图片或Swiper填充整个占位容器 */.image-container-wrapper .post-image[data-v-7c77c87c],\r\n.image-container-wrapper .image-swiper[data-v-7c77c87c]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.post-image[data-v-7c77c87c]{transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.post-image[data-v-7c77c87c]:active{-webkit-transform:scale(1.05);transform:scale(1.05)}.image-swiper[data-v-7c77c87c]{width:100%;border-radius:%?12?%;overflow:hidden}\r\n/* 标签样式 - 与首页和详情页保持一致 */.post-tags[data-v-7c77c87c]{margin-top:%?30?%;margin-bottom:%?10?%;line-height:1.5}.post-tag[data-v-7c77c87c]{color:#24375f;font-size:%?26?%;margin-right:%?10?%;transition:all .2s ease;cursor:pointer}.post-tag[data-v-7c77c87c]:active{color:#1a2a4a;opacity:.8}\r\n/* 删除/操作按钮区域 */.delete-section[data-v-7c77c87c]{display:flex;justify-content:space-between;align-items:center;margin-top:%?20?%;padding-top:%?20?%;border-top:%?1?% solid #f0f0f0}.time-left[data-v-7c77c87c]{flex:1}.favorite-time[data-v-7c77c87c]{font-size:%?24?%;color:#999}.button-group[data-v-7c77c87c]{display:flex;gap:%?10?%}.remove-favorite-btn[data-v-7c77c87c]{background:#ff4757;color:#fff;border:none;border-radius:%?8?%;font-size:%?24?%;padding:%?8?% %?16?%}.remove-favorite-btn[data-v-7c77c87c]:active{background:#ff3742}\r\n/* 加载更多样式 */.loading-more[data-v-7c77c87c]{display:flex;justify-content:center;align-items:center;padding:%?30?%;color:#999;font-size:%?28?%}.no-more[data-v-7c77c87c]{display:flex;justify-content:center;align-items:center;padding:%?30?%;color:#999;font-size:%?28?%}\r\n/* 空状态样式 */.empty-container[data-v-7c77c87c]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:%?100?% %?30?%;text-align:center}.empty-icon[data-v-7c77c87c]{font-size:%?80?%;margin-bottom:%?20?%;opacity:.5}.empty-text[data-v-7c77c87c]{font-size:%?32?%;color:#666;margin-bottom:%?10?%}.empty-subtext[data-v-7c77c87c]{font-size:%?26?%;color:#999}',""]),r.exports=n},cbea:function(r,n,e){"use strict";var t=e("469e"),a=e.n(t);a.a},d189:function(r,n,e){var t=e("e2db"),a=e("2774"),o=e("79b7"),i=e("9376");r.exports=function(r){return t(r)||a(r)||o(r)||i()},r.exports.__esModule=!0,r.exports["default"]=r.exports},d6e5:function(r,n,e){var t=e("dd7e").default,a=e("46c5").default,o=e("bdbb").default,i=e("5014").default;e("dc8a"),e("bf0f"),e("2797"),e("7a76"),e("c9b5");var s={page:0,hasMore:!0,isLoading:!1,isLoadingMore:!1},c=Object.keys(s);function l(r){return r.__paginationState||(r.__paginationState=i({},s)),"object"!==o(r.pagination)||null===r.pagination?r.pagination=i({},s):r.pagination=i(i({},s),r.pagination),c.forEach((function(n){"undefined"===typeof r[n]&&(r[n]=s[n])})),r.__paginationState}function u(r,n){var e=l(r);Object.assign(e,n),function(r,n){if(n&&"object"===o(n)){var e={};if(c.forEach((function(t){Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t],r.pagination&&"object"===o(r.pagination)&&(r.pagination[t]=n[t]),r[t]=n[t])})),"function"===typeof r.setData){var t={};return Object.keys(e).forEach((function(r){t[r]=e[r],t["pagination.".concat(r)]=e[r]})),void r.setData(t)}Object.assign(r,e)}}(r,n)}function f(r,n,e){var t=e.pageSize,a=e.isRefresh,o=e.fallback;if(n&&"boolean"===typeof n.hasMore)return n.hasMore;var i=r.__paginationConfig||{};if("function"===typeof i.computeHasMore)try{var s=i.computeHasMore.call(r,n,{page:r.__paginationState.page,pageSize:t,isRefresh:a});if("boolean"===typeof s)return s}catch(c){console.warn("[pagination] computeHasMore 执行失败",c)}return n&&Array.isArray(n.list)?"number"===typeof t?n.list.length>=t:n.list.length>0:n&&Array.isArray(n.items)?"number"===typeof t?n.items.length>=t:n.items.length>0:"boolean"!==typeof o||o}function d(r){return g.apply(this,arguments)}function g(){return g=a(t().mark((function r(n){var e,a,o,i,s,c,d,g,p,h,m,v,b,y,w=arguments;return t().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e=w.length>1&&void 0!==w[1]?w[1]:{},a=e.isRefresh,o=e.extra,i=void 0===o?{}:o,s=e.fromPullDown,c=void 0!==s&&s,d=n.__paginationConfig,d&&"function"===typeof d.loader){r.next=5;break}return console.warn("[pagination] 尚未通过 initPagination 注册加载函数"),r.abrupt("return",null);case 5:if(l(n),g=n.__paginationState,a||!1!==g.hasMore){r.next=9;break}return r.abrupt("return",null);case 9:if(!g.isLoading&&!g.isLoadingMore){r.next=11;break}return r.abrupt("return",null);case 11:return p=a?0:g.page,h=0===p,u(n,{isLoading:h,isLoadingMore:!h}),m={page:p,pageSize:d.pageSize,isRefresh:a,isFirstPage:h,extra:i},r.prev=15,"function"===typeof d.beforeLoad&&d.beforeLoad.call(n,m),r.next=19,d.loader.call(n,m);case 19:v=r.sent,b=p+1,y=f(n,v,{pageSize:d.pageSize,isRefresh:a,fallback:!!a||g.hasMore}),u(n,{page:b,hasMore:y}),"function"===typeof d.afterLoad&&d.afterLoad.call(n,v,m),r.next=30;break;case 26:throw r.prev=26,r.t0=r["catch"](15),"function"===typeof d.onError?d.onError.call(n,r.t0,m):console.error("[pagination] 加载数据失败",r.t0),r.t0;case 30:if(r.prev=30,u(n,{isLoading:!1,isLoadingMore:!1}),a&&!1!==d.autoStopPullDown&&c&&"undefined"!==typeof uni&&"function"===typeof uni.stopPullDownRefresh)try{uni.stopPullDownRefresh()}catch(t){console.warn("[pagination] stopPullDownRefresh 调用失败",t)}return r.finish(30);case 34:return r.abrupt("return",v);case 35:case"end":return r.stop()}}),r,null,[[15,26,30,34]])}))),g.apply(this,arguments)}r.exports={data:function(){return i({pagination:i({},s)},s)},created:function(){l(this)},onReachBottom:function(){this.__paginationConfig&&this.loadNext().catch((function(){}))},onPullDownRefresh:function(){this.__paginationConfig&&this.refresh({fromPullDown:!0}).catch((function(){}))},methods:{initPagination:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!==typeof r)throw new TypeError("[pagination] initPagination 需要传入函数类型的 loader");var e=n.pageSize,t=void 0===e?10:e,a=n.immediate,o=void 0===a||a,c=n.autoStopPullDown,l=void 0===c||c,f=n.computeHasMore,d=n.beforeLoad,g=n.afterLoad,p=n.onError;return this.__paginationConfig={loader:r,pageSize:t,immediate:o,autoStopPullDown:l,computeHasMore:f,beforeLoad:d,afterLoad:g,onError:p},u(this,i({},s)),o?this.refresh({fromPullDown:!1}):Promise.resolve()},refresh:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this),u(this,{page:0,hasMore:!0}),d(this,i({isRefresh:!0},r))},loadNext:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,i({isRefresh:!1},r))},getPaginationState:function(){return l(this),i({},this.__paginationState)}}}},db04:function(r,n,e){"use strict";var t=e("bb80"),a=e("c435"),o=e("9e70"),i=e("f298"),s=e("862c"),c=t(i),l=t("".slice),u=Math.ceil,f=function(r){return function(n,e,t){var i,f,d=o(s(n)),g=a(e),p=d.length,h=void 0===t?" ":o(t);return g<=p||""===h?d:(i=g-p,f=c(h,u(i/h.length)),f.length>i&&(f=l(f,0,i)),r?d+f:f+d)}};r.exports={start:f(!1),end:f(!0)}},e2db:function(r,n,e){var t=e("e476");r.exports=function(r){if(Array.isArray(r))return t(r)},r.exports.__esModule=!0,r.exports["default"]=r.exports},edf3:function(r,n,e){function t(r){if(!r)return{current:"",urls:[]};if(r.currentTarget&&r.currentTarget.dataset){var n=r.currentTarget.dataset,e=n.src||n.current||n.url||Array.isArray(n.urls)&&n.urls[0]||"",t=n.originalImageUrls||n.urls||n.urlList,a=Array.isArray(t)?t.filter(Boolean):"string"===typeof t&&t?[t]:[];return{current:e,urls:a}}var o=r.current||r.src||Array.isArray(r.urls)&&r.urls[0]||Array.isArray(r.list)&&r.list[0]||"",i=Array.isArray(r.urls)?r.urls.filter(Boolean):Array.isArray(r.list)?r.list.filter(Boolean):[];return{current:o,urls:i}}function a(r){"undefined"!==typeof uni&&uni.showToast&&uni.showToast({title:r,icon:"none"})}e("8f71"),e("bf0f"),r.exports={previewImage:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.fallbackToast,o=void 0===e||e,i=t(r);if(!i.current&&0===i.urls.length)return o&&a("图片数据缺失"),!1;var s=i.urls.length?i.urls:[i.current],c=i.current||s[0];return c&&0!==s.length?uni.previewImage({current:c,urls:s}):(o&&a("图片不可预览"),!1)}}}}]);